<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>GeekIBLi</title>
  
  <subtitle>For Coder</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-07-08T03:29:28.552Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>gaolei</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>elasticsearch-overview</title>
    <link href="http://example.com/wiki/elasticsearch-overview/"/>
    <id>http://example.com/wiki/elasticsearch-overview/</id>
    <published>2021-07-08T03:17:58.000Z</published>
    <updated>2021-07-08T03:29:28.552Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å­¦ä¹ èµ„æ–™"><a href="#å­¦ä¹ èµ„æ–™" class="headerlink" title="å­¦ä¹ èµ„æ–™"></a>å­¦ä¹ èµ„æ–™</h2><ul><li> <a href="https://doc.codingdict.com/elasticsearch/">https://www.codingdict.com/</a></li><li> <a href="https://elasticsearch.cn/">https://elasticsearch.cn/</a></li><li> <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indexing-buffer.html">https://www.elastic.co/guide/en/</a></li><li> <a href="https://elastic.blog.csdn.net/">é“­æ¯…å¤©ä¸‹</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å­¦ä¹ èµ„æ–™&quot;&gt;&lt;a href=&quot;#å­¦ä¹ èµ„æ–™&quot; class=&quot;headerlink&quot; title=&quot;å­¦ä¹ èµ„æ–™&quot;&gt;&lt;/a&gt;å­¦ä¹ èµ„æ–™&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt; &lt;a href=&quot;https://doc.codingdict.com/elasticsearch/&quot;&gt;htt</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="åŸºæœ¬æœç´¢" scheme="http://example.com/categories/Elasticsearch/%E5%9F%BA%E6%9C%AC%E6%90%9C%E7%B4%A2/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>å…³äº Elasticsearch å†…å­˜å ç”¨åŠåˆ†é…</title>
    <link href="http://example.com/wiki/%E5%85%B3%E4%BA%8E-Elasticsearch-%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E5%8F%8A%E5%88%86%E9%85%8D/"/>
    <id>http://example.com/wiki/%E5%85%B3%E4%BA%8E-Elasticsearch-%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E5%8F%8A%E5%88%86%E9%85%8D/</id>
    <published>2021-07-08T02:39:16.000Z</published>
    <updated>2021-07-08T03:28:02.241Z</updated>
    
    <content type="html"><![CDATA[<p>Elasticsearch å’Œ Lucene å¯¹å†…å­˜ä½¿ç”¨æƒ…å†µï¼š </p><img src='https://nereuschen.github.io/2015/09/16/ElasticSearch%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90/es-cache.png' width=500 height=550><p>Elasticsearch é™åˆ¶çš„å†…å­˜å¤§å°æ˜¯ JAVA å †ç©ºé—´çš„å¤§å°ï¼Œä¸åŒ…æ‹¬Lucene ç¼“å­˜å€’æ’ç´¢å¼•æ•°æ®ç©ºé—´ã€‚</p><p>Lucene ä¸­çš„ å€’æ’ç´¢å¼• segments å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ï¼Œä¸ºæé«˜è®¿é—®é€Ÿåº¦ï¼Œéƒ½ä¼šæŠŠå®ƒåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œä»è€Œæé«˜ Lucene æ€§èƒ½ã€‚æ‰€ä»¥å»ºè®®è‡³å°‘ç•™ç³»ç»Ÿä¸€åŠå†…å­˜ç»™Luceneã€‚<br><code>Node Query Cache</code> (è´Ÿè´£ç¼“å­˜f ilter æŸ¥è¯¢ç»“æœ)ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªï¼Œè¢«æ‰€æœ‰ shard å…±äº«ï¼Œfilter queryæŸ¥è¯¢ç»“æœè¦ä¹ˆæ˜¯ yes è¦ä¹ˆæ˜¯noï¼Œä¸æ¶‰åŠ scores çš„è®¡ç®—ã€‚<br>é›†ç¾¤ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦é…ç½®ï¼Œé»˜è®¤ä¸ºï¼šindices.queries.cache.size:10%</p><p><code>Indexing Buffer</code> ç´¢å¼•ç¼“å†²åŒºï¼Œç”¨äºå­˜å‚¨æ–°ç´¢å¼•çš„æ–‡æ¡£ï¼Œå½“å…¶è¢«å¡«æ»¡æ—¶ï¼Œç¼“å†²åŒºä¸­çš„æ–‡æ¡£è¢«å†™å…¥ç£ç›˜ä¸­çš„ <code>segments</code> ä¸­ã€‚èŠ‚ç‚¹ä¸Šæ‰€æœ‰ <code>shard</code> å…±äº«ã€‚<br>ç¼“å†²åŒºé»˜è®¤å¤§å°ï¼š indices.memory.index_buffer_size: 10%<br>å¦‚æœç¼“å†²åŒºå¤§å°è®¾ç½®äº†ç™¾åˆ†ç™¾åˆ™ indices.memory.min_index_buffer_size ç”¨äºè¿™æ˜¯æœ€å°å€¼ï¼Œé»˜è®¤ä¸º 48mbã€‚indices.memory.max_index_buffer_size ç”¨äºæœ€å¤§å¤§å°ï¼Œæ— é»˜è®¤å€¼ã€‚</p><p><code>segments</code><br>segmentsä¼šé•¿æœŸå ç”¨å†…å­˜ï¼Œå…¶åˆè¡·å°±æ˜¯åˆ©ç”¨OSçš„cacheæå‡æ€§èƒ½ã€‚åªæœ‰åœ¨Mergeä¹‹åï¼Œæ‰ä¼šé‡Šæ”¾æ‰æ ‡è®°ä¸ºDeleteçš„segmentsï¼Œé‡Šæ”¾éƒ¨åˆ†å†…å­˜ã€‚</p><p><code>Shard Request Cache</code> ç”¨äºç¼“å­˜è¯·æ±‚ç»“æœï¼Œä½†ä¹‹ç¼“å­˜request sizeä¸º0çš„ã€‚æ¯”å¦‚è¯´ hits.total, aggregations å’Œ suggestions.<br>é»˜è®¤æœ€å¤§ä¸ºindices.requests.cache.size:1%</p><p><code>Field Data Cache</code> å­—æ®µç¼“å­˜é‡è¦ç”¨äºå¯¹å­—æ®µè¿›è¡Œæ’åºã€èšåˆæ˜¯ä½¿ç”¨ã€‚å› ä¸ºæ„å»ºå­—æ®µæ•°æ®ç¼“å­˜ä»£ä»·æ˜‚è´µï¼Œæ‰€ä»¥å»ºè®®æœ‰è¶³å¤Ÿçš„å†…è®­æ¥å­˜å‚¨ã€‚<br><code>Fielddata</code> æ˜¯ ã€Œ å»¶è¿Ÿ ã€ åŠ è½½ã€‚å¦‚æœä½ ä»æ¥æ²¡æœ‰èšåˆä¸€ä¸ªåˆ†æå­—ç¬¦ä¸²ï¼Œå°±ä¸ä¼šåŠ è½½ fielddata åˆ°å†…å­˜ä¸­ï¼Œä¹Ÿå°±ä¸ä¼šä½¿ç”¨å¤§é‡çš„å†…å­˜ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘åˆ†é…è¾ƒå°çš„heapç»™Elasticsearchã€‚å› ä¸ºheapè¶Šå°æ„å‘³ç€Elasticsearchçš„GCä¼šæ¯”è¾ƒå¿«ï¼Œå¹¶ä¸”é¢„ç•™ç»™Luceneçš„å†…å­˜ä¹Ÿä¼šæ¯”è¾ƒå¤§ã€‚ã€‚<br>å¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ä¿å­˜fielddataæ—¶ï¼ŒElastisearchä¼šä¸æ–­åœ°ä»ç£ç›˜åŠ è½½æ•°æ®åˆ°å†…å­˜ï¼Œå¹¶å‰”é™¤æ‰æ—§çš„å†…å­˜æ•°æ®ã€‚å‰”é™¤æ“ä½œä¼šé€ æˆä¸¥é‡çš„ç£ç›˜I/Oï¼Œå¹¶ä¸”å¼•å‘å¤§é‡çš„GCï¼Œä¼šä¸¥é‡å½±å“Elastisearchçš„æ€§èƒ½ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹Fielddataä¼šä¸æ–­å ç”¨å†…å­˜ï¼Œç›´åˆ°å®ƒè§¦å‘äº†fielddata circuit breakerã€‚<br>fielddata circuit breakerä¼šæ ¹æ®æŸ¥è¯¢æ¡ä»¶è¯„ä¼°è¿™æ¬¡æŸ¥è¯¢ä¼šä½¿ç”¨å¤šå°‘å†…å­˜ï¼Œä»è€Œè®¡ç®—åŠ è½½è¿™éƒ¨åˆ†å†…å­˜ä¹‹åï¼ŒField Data Cacheæ‰€å ç”¨çš„å†…å­˜æ˜¯å¦ä¼šè¶…è¿‡indices.breaker.fielddata.limitã€‚å¦‚æœè¶…è¿‡è¿™ä¸ªå€¼ï¼Œå°±ä¼šè§¦å‘fielddata circuit breakerï¼Œabortè¿™æ¬¡æŸ¥è¯¢å¹¶ä¸”æŠ›å‡ºå¼‚å¸¸ï¼Œé˜²æ­¢OOMã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">indices.breaker.fielddata.limit:60% (é»˜è®¤heapçš„60%)  (es7ä¹‹åæ”¹æˆ70%)</span><br></pre></td></tr></table></figure><p>å¦‚æœè®¾ç½®äº†indices.fielddata.cache.sizeï¼Œå½“è¾¾åˆ°sizeæ—¶ï¼Œcacheä¼šå‰”é™¤æ—§çš„fielddataã€‚</p><blockquote><p>indices.breaker.fielddata.limit å¿…é¡»å¤§äº indices.fielddata.cache.sizeï¼Œå¦åˆ™åªä¼šè§¦å‘fielddata circuit breakerï¼Œè€Œä¸ä¼šå‰”é™¤æ—§çš„fielddataã€‚</p></blockquote><h2 id="é…ç½®Elasticsearchå †å†…å­˜"><a href="#é…ç½®Elasticsearchå †å†…å­˜" class="headerlink" title="é…ç½®Elasticsearchå †å†…å­˜"></a>é…ç½®Elasticsearchå †å†…å­˜</h2><p>Elasticsearché»˜è®¤å®‰è£…åè®¾ç½®çš„å†…å­˜æ˜¯ <code>1GB</code>ï¼Œè¿™æ˜¯è¿œè¿œä¸å¤Ÿç”¨äºç”Ÿäº§ç¯å¢ƒçš„ã€‚<br>æœ‰ä¸¤ç§æ–¹å¼ä¿®æ”¹Elasticsearchçš„å †å†…å­˜ï¼š</p><blockquote><ol><li>è®¾ç½®ç¯å¢ƒå˜é‡ï¼š<code>export ES_HEAP_SIZE=10g</code> åœ¨eså¯åŠ¨æ—¶ä¼šè¯»å–è¯¥å˜é‡ï¼›</li><li>å¯åŠ¨æ—¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™esï¼š <code>./bin/elasticsearch -Xmx10g -Xms10g</code></li></ol></blockquote><h2 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h2><p>ç»™esåˆ†é…å†…å­˜æ—¶è¦æ³¨æ„ï¼Œè‡³å°‘è¦åˆ†é…ä¸€åŠå„¿å†…å­˜ç•™ç»™ Luceneã€‚<br>åˆ†é…ç»™ es çš„å†…å­˜æœ€å¥½ä¸è¦è¶…è¿‡ 32G ï¼Œå› ä¸ºå¦‚æœå †å¤§å°å°äº 32 GBï¼ŒJVM å¯ä»¥åˆ©ç”¨æŒ‡é’ˆå‹ç¼©ï¼Œè¿™å¯ä»¥å¤§å¤§é™ä½å†…å­˜çš„ä½¿ç”¨ï¼šæ¯ä¸ªæŒ‡é’ˆ 4 å­—èŠ‚è€Œä¸æ˜¯ 8 å­—èŠ‚ã€‚å¦‚æœå¤§äº32G æ¯ä¸ªæŒ‡é’ˆå ç”¨ 8å­—èŠ‚ï¼Œå¹¶ä¸”ä¼šå ç”¨æ›´å¤šçš„å†…å­˜å¸¦å®½ï¼Œé™ä½äº†cpuæ€§èƒ½ã€‚</p><p>è¿˜æœ‰ä¸€ç‚¹ï¼Œ è¦å…³é—­ <code>swap</code> å†…å­˜äº¤æ¢ç©ºé—´ï¼Œç¦ç”¨swappingã€‚é¢‘ç¹çš„swapping å¯¹æœåŠ¡å™¨æ¥è¯´æ˜¯è‡´å‘½çš„ã€‚<br>æ€»ç»“ï¼šç»™es JVMæ ˆçš„å†…å­˜æœ€å¥½ä¸è¦è¶…è¿‡32Gï¼Œç•™ç»™Luceneçš„å†…å­˜è¶Šå¤§è¶Šå¥½ï¼ŒLuceneæŠŠæ‰€æœ‰çš„segmentéƒ½ç¼“å­˜èµ·æ¥ï¼Œä¼šåŠ å¿«å…¨æ–‡æ£€ç´¢ã€‚</p><h2 id="å…³é—­äº¤æ¢åŒº"><a href="#å…³é—­äº¤æ¢åŒº" class="headerlink" title="å…³é—­äº¤æ¢åŒº"></a>å…³é—­äº¤æ¢åŒº</h2><p>è¿™åº”è¯¥æ˜¾è€Œæ˜“è§äº†ï¼Œä½†ä»ç„¶éœ€è¦æ˜ç¡®çš„å†™å‡ºæ¥ï¼šæŠŠå†…å­˜æ¢æˆç¡¬ç›˜å°†æ¯æ‰æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼šæ¶‰åŠå†…å­˜çš„æ“ä½œæ˜¯éœ€è¦å¿«é€Ÿæ‰§è¡Œçš„ã€‚å¦‚æœä»‹è´¨ä»å†…å­˜å˜ä¸ºäº†ç¡¬ç›˜ï¼Œä¸€ä¸ª10å¾®ç§’çš„æ“ä½œå˜æˆéœ€è¦10æ¯«ç§’ã€‚è€Œä¸”è¿™ç§å»¶è¿Ÿå‘ç”Ÿåœ¨æ‰€æœ‰æœ¬è¯¥åªèŠ±è´¹10å¾®ç§’çš„æ“ä½œä¸Šï¼Œå°±ä¸éš¾ç†è§£ä¸ºä»€ä¹ˆäº¤æ¢åŒºå¯¹äºæ€§èƒ½æ¥è¯´æ˜¯å™©æ¢¦ã€‚</p><p>æœ€å¥½çš„é€‰æ‹©æ˜¯ç¦ç”¨æ‰æ“ä½œç³»ç»Ÿçš„äº¤æ¢åŒºã€‚å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo swapoff -a</span><br></pre></td></tr></table></figure><p>æ¥ç¦ç”¨ï¼Œä½ å¯èƒ½è¿˜éœ€è¦ç¼–è¾‘ <code>/etc/fstab</code> æ–‡ä»¶ã€‚ç»†èŠ‚å¯ä»¥å‚è€ƒä½ çš„æ“ä½œç³»ç»Ÿæ–‡æ¡£ã€‚</p><p>å¦‚æœå®é™…ç¯å¢ƒä¸å…è®¸ç¦ç”¨æ‰ <code>swap</code>ï¼Œä½ å¯ä»¥å°è¯•é™ä½ <code>swappiness</code>ã€‚æ­¤å€¼æ§åˆ¶æ“ä½œç³»ç»Ÿä½¿ç”¨äº¤æ¢åŒºçš„ç§¯ææ€§ã€‚è¿™å¯ä»¥é˜²æ­¢åœ¨æ­£å¸¸æƒ…å†µä¸‹ä½¿ç”¨äº¤æ¢åŒºï¼Œä½†ä»å…è®¸æ“ä½œç³»ç»Ÿåœ¨ç´§æ€¥æƒ…å†µä¸‹å°†å†…å­˜é‡Œçš„ä¸œè¥¿æ”¾åˆ°äº¤æ¢åŒºã€‚</p><p>å¯¹äºå¤§å¤šæ•°Linuxç³»ç»Ÿæ¥è¯´ï¼Œè¿™å¯ä»¥ç”¨ <code>sysctl</code> å€¼æ¥é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">vm.swappiness</span> <span class="string">=</span> <span class="number">1</span> <span class="comment"># å°†æ­¤å€¼é…ç½®ä¸º1ä¼šæ¯”0å¥½ï¼Œåœ¨kernalå†…æ ¸çš„æŸäº›ç‰ˆæœ¬ä¸­ï¼Œ0å¯èƒ½ä¼šå¼•èµ·OOMå¼‚å¸¸ã€‚</span></span><br></pre></td></tr></table></figure><p>æœ€åï¼Œå¦‚æœä¸¤ç§æ–¹æ³•éƒ½ä¸å¯ç”¨ï¼Œä½ åº”è¯¥åœ¨ElasticSearchçš„é…ç½®ä¸­å¯ç”¨ <code>mlockall.file</code>ã€‚è¿™å…è®¸JVMé”å®šå…¶ä½¿ç”¨çš„å†…å­˜ï¼Œè€Œé¿å…è¢«æ”¾å…¥æ“ä½œç³»ç»Ÿäº¤æ¢åŒºã€‚</p><p>åœ¨elasticsearch.ymlä¸­ï¼Œåšå¦‚ä¸‹è®¾ç½®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bootstrap.mlockall: true</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹nodeèŠ‚ç‚¹æ•°æ®"><a href="#æŸ¥çœ‹nodeèŠ‚ç‚¹æ•°æ®" class="headerlink" title="æŸ¥çœ‹nodeèŠ‚ç‚¹æ•°æ®"></a>æŸ¥çœ‹nodeèŠ‚ç‚¹æ•°æ®</h2><p><code>GET /_cat/nodes?v&amp;h=id,ip,port,v,master,name,heap.current,heap.percent,heap.max,ram.current,ram.percent,ram.max,fielddata.memory_size,fielddata.evictions,query_cache.memory_size,query_cache.evictions, request_cache.memory_size,request_cache.evictions,request_cache.hit_count,request_cache.miss_count</code></p><p><code>GET /_cat/nodes?v&amp;h=id,heap.current,heap.percent,heap.max,ram.current,ram.percent,ram.max,fielddata.memory_size</code></p><p><code>GET /_cat/nodes?v&amp;h=id,fielddata.evictions,query_cache.memory_size,query_cache.evictions, request_cache.memory_size,request_cache.evictions,request_cache.hit_count,request_cache.miss_count</code></p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><blockquote><p><a href="https://nereuschen.github.io/2015/09/16/ElasticSearch%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90/"></a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Elasticsearch å’Œ Lucene å¯¹å†…å­˜ä½¿ç”¨æƒ…å†µï¼š &lt;/p&gt;
&lt;img src=&#39;https://nereuschen.github.io/2015/09/16/ElasticSearch%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="é…ç½®è¿ç»´" scheme="http://example.com/categories/Elasticsearch/%E9%85%8D%E7%BD%AE%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>cross-fieldsè·¨å­—æ®µæŸ¥è¯¢</title>
    <link href="http://example.com/wiki/cross-fields%E8%B7%A8%E5%AD%97%E6%AE%B5%E6%9F%A5%E8%AF%A2/"/>
    <id>http://example.com/wiki/cross-fields%E8%B7%A8%E5%AD%97%E6%AE%B5%E6%9F%A5%E8%AF%A2/</id>
    <published>2021-07-07T06:41:42.000Z</published>
    <updated>2021-07-07T06:43:59.553Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote><ul><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/_cross_fields_queries.html#_cross_fields_queries">Elasticsearch: æƒå¨æŒ‡å— Â» æ·±å…¥æœç´¢ Â» å¤šå­—æ®µæœç´¢ Â» cross-fields è·¨å­—æ®µæŸ¥è¯¢</a></li><li><a href=""></a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‚è€ƒèµ„æ–™&quot;&gt;&lt;a href=&quot;#å‚è€ƒèµ„æ–™&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒèµ„æ–™&quot;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.elastic.co/guide/cn/el</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="For search" scheme="http://example.com/categories/Elasticsearch/For-search/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>copy_toå‚æ•°</title>
    <link href="http://example.com/wiki/copy-to%E5%8F%82%E6%95%B0/"/>
    <id>http://example.com/wiki/copy-to%E5%8F%82%E6%95%B0/</id>
    <published>2021-07-07T06:34:42.000Z</published>
    <updated>2021-07-07T06:44:17.191Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote><ul><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/custom-all.html">Elasticsearch: æƒå¨æŒ‡å— Â» æ·±å…¥æœç´¢ Â» å¤šå­—æ®µæœç´¢ Â» è‡ªå®šä¹‰ _all å­—æ®µ</a></li><li><a href="https://doc.codingdict.com/elasticsearch/319/">Docs Â» Mapping parametersï¼ˆæ˜ å°„å‚æ•°ï¼‰ Â» Mapping(æ˜ å°„) Â» copy_toï¼ˆåˆå¹¶å‚æ•°ï¼‰</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‚è€ƒèµ„æ–™&quot;&gt;&lt;a href=&quot;#å‚è€ƒèµ„æ–™&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒèµ„æ–™&quot;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.elastic.co/guide/cn/el</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="For search" scheme="http://example.com/categories/Elasticsearch/For-search/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>å­—ç¬¦ä¸²æ’åºä¸å¤šå­—æ®µ</title>
    <link href="http://example.com/wiki/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%BA%8F%E4%B8%8E%E5%A4%9A%E5%AD%97%E6%AE%B5/"/>
    <id>http://example.com/wiki/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%BA%8F%E4%B8%8E%E5%A4%9A%E5%AD%97%E6%AE%B5/</id>
    <published>2021-07-07T03:05:31.000Z</published>
    <updated>2021-07-07T03:05:31.027Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote><ul><li><a href=""></a></li><li><a href=""></a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‚è€ƒèµ„æ–™&quot;&gt;&lt;a href=&quot;#å‚è€ƒèµ„æ–™&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒèµ„æ–™&quot;&gt;&lt;/a&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;&lt;/l</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>æ¨èç³»ç»Ÿ-Overview</title>
    <link href="http://example.com/wiki/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F-Overview/"/>
    <id>http://example.com/wiki/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F-Overview/</id>
    <published>2021-07-07T02:08:05.000Z</published>
    <updated>2021-07-07T09:47:43.345Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åšå®¢èµ„æ–™"><a href="#åšå®¢èµ„æ–™" class="headerlink" title="åšå®¢èµ„æ–™"></a>åšå®¢èµ„æ–™</h2><ul><li><a href="https://blog.csdn.net/qq_40027052/article/details/78733365">æ·±åº¦è§£æäº¬ä¸œä¸ªæ€§åŒ–æ¨èç³»ç»Ÿæ¼”è¿›å²</a>  </li><li><a href="https://www.cnblogs.com/liuning8023/p/5522619.html">ç”¨ Mahout å’Œ Elasticsearch å®ç°æ¨èç³»ç»Ÿ</a></li><li><a href="https://tech.meituan.com/2015/01/22/mt-recommend-practice.html">ç¾å›¢æ¨èç®—æ³•å®è·µ</a></li><li><a href="https://blog.csdn.net/love284969214/article/details/82932064">58åŒåŸæ¨èç³»ç»Ÿè®¾è®¡ä¸å®ç°</a></li><li><a href="http://www.360doc.com/content/16/0307/22/31263000_540328712.shtml">å¾®åšæ¨èç³»ç»Ÿçš„æ¶æ„æ¼”è¿›ä¹‹è·¯</a></li><li><a href="https://blog.csdn.net/tzs_1041218129/article/details/103331908">Flink åœ¨å°çº¢ä¹¦æ¨èç³»ç»Ÿä¸­çš„åº”ç”¨</a></li><li><a href="https://www.slidestalk.com/YunQi/XiaoHongShu_BigData_Platform_Evolution">å°çº¢ä¹¦å¤§æ•°æ®åœ¨æ¨èç³»ç»Ÿä¸­çš„åº”ç”¨</a></li><li><a href="https://www.slidestalk.com/u223/rs_in_kuaikan">å¿«çœ‹æ¼«ç”»ä¸ªæ€§åŒ–æ¨èæ¢ç´¢ä¸å®è·µ</a></li><li><a href="https://zhuanlan.zhihu.com/p/45123018">æ•°æ®ä»“åº“ç³»åˆ—ç¯‡â€”â€”å”¯å“ä¼šå¤§æ•°æ®æ¶æ„</a></li></ul><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote><ul><li><a href=""></a></li><li><a href=""></a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;åšå®¢èµ„æ–™&quot;&gt;&lt;a href=&quot;#åšå®¢èµ„æ–™&quot; class=&quot;headerlink&quot; title=&quot;åšå®¢èµ„æ–™&quot;&gt;&lt;/a&gt;åšå®¢èµ„æ–™&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/qq_40027052/article/detai</summary>
      
    
    
    
    <category term="æ¨èç³»ç»Ÿ" scheme="http://example.com/categories/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="Overview" scheme="http://example.com/categories/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/Overview/"/>
    
    
    <category term="æ¨è" scheme="http://example.com/tags/%E6%8E%A8%E8%8D%90/"/>
    
  </entry>
  
  <entry>
    <title>flink æäº¤ä»»åŠ¡</title>
    <link href="http://example.com/wiki/flink-%E6%8F%90%E4%BA%A4%E4%BB%BB%E5%8A%A1/"/>
    <id>http://example.com/wiki/flink-%E6%8F%90%E4%BA%A4%E4%BB%BB%E5%8A%A1/</id>
    <published>2021-07-06T15:57:04.000Z</published>
    <updated>2021-07-07T14:25:24.237Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸‹é¢æ¼”ç¤ºå¦‚ä½•é€šè¿‡adminé¡µé¢æäº¤ä»»åŠ¡ ğŸ‘‡</p><h2 id="å‡†å¤‡task-jar"><a href="#å‡†å¤‡task-jar" class="headerlink" title="å‡†å¤‡task jar"></a>å‡†å¤‡task jar</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StreamWordCount</span> </span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºæµå¤„ç†æ‰§è¡Œç¯å¢ƒ</span></span><br><span class="line">        StreamExecutionEnvironment env = StreamContextEnvironment.getExecutionEnvironment();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä»socketæ–‡æœ¬æµè¯»å–æ•°æ®</span></span><br><span class="line">        DataStream&lt;String&gt; inputDataStream = env.socketTextStream(<span class="string">&quot;localhost&quot;</span>, <span class="number">7777</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŸºäºæ•°æ®æµè¿›è¡Œè½¬æ¢è®¡ç®—</span></span><br><span class="line">        DataStream&lt;Tuple2&lt;String,Integer&gt;&gt; resultStream = inputDataStream.flatMap(<span class="keyword">new</span> WordCount.MyFlatMapper())</span><br><span class="line">                .keyBy(<span class="number">0</span>)</span><br><span class="line">                .sum(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        resultStream.print();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰§è¡Œä»»åŠ¡</span></span><br><span class="line">        env.execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ<code>mvn install -DskipTest</code> å¯ä»¥å¾—åˆ°ç›¸åº”çš„jar</p><h2 id="adminæäº¤jar"><a href="#adminæäº¤jar" class="headerlink" title="adminæäº¤jar"></a>adminæäº¤jar</h2><img src='https://oscimg.oschina.net/oscnet/up-6f96aa46a523c9cd32f12177775b6d6fab9.png' width=900 height=450> <p>æäº¤å®ŒjaråŒ…ä¹‹åï¼Œéœ€è¦è®¾ç½®ç›¸å…³å‚æ•°ï¼Œè¿™ä¸ªæ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µæ¥è®¾ç½®ï¼Œä¸‹é¢æ˜¯å‚è€ƒæ ·ä¾‹ï¼š </p><ul><li>Enter Class : com.ibli.flink.StreamWordCount<br>ä¹Ÿå°±æ˜¯ç¨‹åºå…¥å£ï¼Œæˆ‘ä»¬è¿™æ˜¯å†™äº†ä¸€ä¸ªmainæ–¹æ³•ï¼Œå¦‚æœæ˜¯ç¨‹åºçš„è¯ï¼Œå¯ä»¥å†™å¯¹åº”bootstrapçš„å¯åŠ¨ç±»</li><li>Program Arguments : â€“host localhost â€“port 7777 </li></ul><p>ç‚¹å‡» <code>submit</code>  ä¹‹åæŸ¥çœ‹æäº¤çš„ä»»åŠ¡çŠ¶æ€</p><h2 id="æŸ¥çœ‹ä»»åŠ¡"><a href="#æŸ¥çœ‹ä»»åŠ¡" class="headerlink" title="æŸ¥çœ‹ä»»åŠ¡"></a>æŸ¥çœ‹ä»»åŠ¡</h2><img src='https://oscimg.oschina.net/oscnet/up-f11b32799d87f90c6e78732db82f191be3b.png' width=900 height=450>  <p>å¯ä»¥çœ‹åˆ°æ˜¯æœ‰ä¸¤ä¸ªä»»åŠ¡ï¼Œå¹¶ä¸”éƒ½æ˜¯åœ¨æ‰§è¡ŒçŠ¶æ€ï¼›<br>ç‚¹å‡»ä¸€ä¸ªä»»åŠ¡ï¼Œè¿˜å¯ä»¥æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…ä¿¡æ¯ï¼Œå’Œä¸€äº›å…¶ä»–çš„ä¿¡æ¯ï¼Œéå¸¸å…¨é¢ï¼›</p><img src="https://oscimg.oschina.net/oscnet/up-9678050d3906aae9ccead23d02927d46851.png" width=900 height=450><h2 id="æŸ¥çœ‹è¿è¡Œæ—¶ä»»åŠ¡åˆ—è¡¨"><a href="#æŸ¥çœ‹è¿è¡Œæ—¶ä»»åŠ¡åˆ—è¡¨" class="headerlink" title="æŸ¥çœ‹è¿è¡Œæ—¶ä»»åŠ¡åˆ—è¡¨"></a>æŸ¥çœ‹è¿è¡Œæ—¶ä»»åŠ¡åˆ—è¡¨</h2><img src='https://oscimg.oschina.net/oscnet/up-da8bf04ac90ae3c16095a6ebf25175b4452.png' width=900 height=350><h2 id="æŸ¥çœ‹ä»»åŠ¡ç®¡ç†åˆ—è¡¨"><a href="#æŸ¥çœ‹ä»»åŠ¡ç®¡ç†åˆ—è¡¨" class="headerlink" title="æŸ¥çœ‹ä»»åŠ¡ç®¡ç†åˆ—è¡¨"></a>æŸ¥çœ‹ä»»åŠ¡ç®¡ç†åˆ—è¡¨</h2><img src="https://oscimg.oschina.net/oscnet/up-a85746f93dc171f3d320a17c07294682bb3.png" width=900 height=450><p>ç‚¹å‡»ä»»åŠ¡å¯ä»¥è·³è½¬åˆ°è¯¦æƒ…é¡µé¢ ğŸ‘‡ ä¸‹é¢æ˜¯æ‰§è¡Œæ—¥å¿— </p><img src= 'https://oscimg.oschina.net/oscnet/up-a11c7ccc522c77d100d57a9c2a08ec9183b.png' width=900 height=500><p>æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°ä»»åŠ¡æ‰§è¡Œçš„æ ‡å‡†è¾“å‡ºç»“æœâœ…</p><img src="https://oscimg.oschina.net/oscnet/up-3d990a6318fab3a11e7336fdcd271851fda.png" width=900 height=400><h2 id="ä»»åŠ¡æºæ•°æ®"><a href="#ä»»åŠ¡æºæ•°æ®" class="headerlink" title="ä»»åŠ¡æºæ•°æ®"></a>ä»»åŠ¡æºæ•°æ®</h2><p>é€šè¿‡nc è¾“å…¥æ•°æ®ï¼Œç”±ç¨‹åºè¯»å–7777ç«¯å£è¾“å…¥æµå¹¶è§£ææ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gaolei:geekibli gaolei$ nc -lk 7777</span><br><span class="line">hello java</span><br><span class="line">hello flink</span><br></pre></td></tr></table></figure><h2 id="å–æ¶ˆä»»åŠ¡å¦‚ä¸‹"><a href="#å–æ¶ˆä»»åŠ¡å¦‚ä¸‹" class="headerlink" title="å–æ¶ˆä»»åŠ¡å¦‚ä¸‹"></a>å–æ¶ˆä»»åŠ¡å¦‚ä¸‹</h2><img src='https://oscimg.oschina.net/oscnet/up-05199d86b957e0adec4e4d91390a0aebbec.png' width=900 height=400> <p>å†æ¬¡æŸ¥çœ‹å·²å®Œæˆä»»åŠ¡åˆ—è¡¨ å¦‚ä¸‹ï¼š</p><img src='https://oscimg.oschina.net/oscnet/up-78c97d4c4aec1641a22165735764c54b969.png' width=900 height=400>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä¸‹é¢æ¼”ç¤ºå¦‚ä½•é€šè¿‡adminé¡µé¢æäº¤ä»»åŠ¡ ğŸ‘‡&lt;/p&gt;
&lt;h2 id=&quot;å‡†å¤‡task-jar&quot;&gt;&lt;a href=&quot;#å‡†å¤‡task-jar&quot; class=&quot;headerlink&quot; title=&quot;å‡†å¤‡task jar&quot;&gt;&lt;/a&gt;å‡†å¤‡task jar&lt;/h2&gt;&lt;figure cla</summary>
      
    
    
    
    <category term="Apache Flink" scheme="http://example.com/categories/Apache-Flink/"/>
    
    
    <category term="flink" scheme="http://example.com/tags/flink/"/>
    
  </entry>
  
  <entry>
    <title>apache-flink-overview</title>
    <link href="http://example.com/wiki/apache-flink-overview/"/>
    <id>http://example.com/wiki/apache-flink-overview/</id>
    <published>2021-07-06T15:39:54.000Z</published>
    <updated>2021-07-06T16:20:24.847Z</updated>
    
    <content type="html"><![CDATA[<img src="https://flink.apache.org/img/flink-header-logo.svg" width=300 height=300><h2 id="å­¦ä¹ åˆè¡·"><a href="#å­¦ä¹ åˆè¡·" class="headerlink" title="å­¦ä¹ åˆè¡·"></a>å­¦ä¹ åˆè¡·</h2><p>æ¨èç³»ç»Ÿæ•°æ®éœ€è¦å®æ—¶å¤„ç†ï¼Œä½¿ç”¨Apache Flinkå®æ—¶è®¡ç®—ç”¨æˆ·æ•°æ®ï¼Œåˆ†æç”¨æˆ·è¡Œä¸ºï¼Œè¾¾åˆ°å®æ—¶ä¸šåŠ¡æ•°æ®åˆ†æå’Œå®ç°ä¸šåŠ¡ç›¸å…³æ¨èï¼›</p><h2 id="å­¦ä¹ èµ„æ–™"><a href="#å­¦ä¹ èµ„æ–™" class="headerlink" title="å­¦ä¹ èµ„æ–™"></a>å­¦ä¹ èµ„æ–™</h2><ul><li><a href="https://ashiamd.github.io/docsify-notes/#/study/BigData/Flink/%E5%B0%9A%E7%A1%85%E8%B0%B7Flink%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E6%88%98-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">ashiamd.github.io</a></li><li><a href="https://www.bilibili.com/video/BV1qy4y1q728?p=11&spm_id_from=pageDriver">å°šç¡…è°·2021æœ€æ–°Javaç‰ˆFlink æ­¦è€å¸ˆæ¸…åç¡•å£«ï¼ŒåŸIBM-CDLè´Ÿè´£äºº</a></li><li><a href="https://flink.apache.org/">Apache FlinkÂ® â€” Stateful Computations over Data Streams</a></li><li><a href="https://flink.apache.org/zh/">Apache FlinkÂ® - æ•°æ®æµä¸Šçš„æœ‰çŠ¶æ€è®¡ç®—</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;img src=&quot;https://flink.apache.org/img/flink-header-logo.svg&quot; width=300 height=300&gt;

&lt;h2 id=&quot;å­¦ä¹ åˆè¡·&quot;&gt;&lt;a href=&quot;#å­¦ä¹ åˆè¡·&quot; class=&quot;headerlink&quot; title=</summary>
      
    
    
    
    <category term="Apache Flink" scheme="http://example.com/categories/Apache-Flink/"/>
    
    
    <category term="flink" scheme="http://example.com/tags/flink/"/>
    
  </entry>
  
  <entry>
    <title>most_fieldsç±»å‹</title>
    <link href="http://example.com/wiki/most-fields%E7%B1%BB%E5%9E%8B/"/>
    <id>http://example.com/wiki/most-fields%E7%B1%BB%E5%9E%8B/</id>
    <published>2021-07-06T12:54:23.000Z</published>
    <updated>2021-07-06T13:12:34.979Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¤šå­—æ®µæ˜ å°„"><a href="#å¤šå­—æ®µæ˜ å°„" class="headerlink" title="å¤šå­—æ®µæ˜ å°„"></a>å¤šå­—æ®µæ˜ å°„</h2><p>é¦–å…ˆè¦åšçš„äº‹æƒ…å°±æ˜¯å¯¹æˆ‘ä»¬çš„å­—æ®µç´¢å¼•ä¸¤æ¬¡ï¼šä¸€æ¬¡ä½¿ç”¨è¯å¹²æ¨¡å¼ä»¥åŠä¸€æ¬¡éè¯å¹²æ¨¡å¼ã€‚ä¸ºäº†åšåˆ°è¿™ç‚¹ï¼Œé‡‡ç”¨ <code>multifields</code> æ¥å®ç°ï¼Œå·²ç»åœ¨ <a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/multi-fields.html">multifields</a> æœ‰æ‰€ä»‹ç»ï¼š</p><p><code>DELETE /my_index</code>  </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">PUT /my_index</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;settings&quot;</span>: &#123; <span class="attr">&quot;number_of_shards&quot;</span>: <span class="number">1</span> &#125;, </span><br><span class="line">    <span class="attr">&quot;mappings&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;my_type&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;properties&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;title&quot;</span>: &#123; </span><br><span class="line">                    <span class="attr">&quot;type&quot;</span>:     <span class="string">&quot;string&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;analyzer&quot;</span>: <span class="string">&quot;english&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;fields&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;std&quot;</span>:   &#123; </span><br><span class="line">                            <span class="attr">&quot;type&quot;</span>:     <span class="string">&quot;string&quot;</span>,</span><br><span class="line">                            <span class="attr">&quot;analyzer&quot;</span>: <span class="string">&quot;standard&quot;</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>title å­—æ®µä½¿ç”¨ english è‹±è¯­åˆ†æå™¨æ¥æå–è¯å¹²ã€‚</li><li>title.std å­—æ®µä½¿ç”¨ standard æ ‡å‡†åˆ†æå™¨ï¼Œæ‰€ä»¥æ²¡æœ‰è¯å¹²æå–ã€‚</li></ul><p>æ¥ç€ç´¢å¼•ä¸€äº›æ–‡æ¡£ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PUT /my_index/my_type/<span class="number">1</span></span><br><span class="line">&#123; <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;My rabbit jumps&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">PUT /my_index/my_type/<span class="number">2</span></span><br><span class="line">&#123; <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;Jumping jack rabbits&quot;</span> &#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨ä¸€ä¸ªç®€å• match æŸ¥è¯¢ title æ ‡é¢˜å­—æ®µæ˜¯å¦åŒ…å« jumping rabbits ï¼ˆè·³è·ƒçš„å…”å­ï¼‰ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GET /my_index/_search</span><br><span class="line">&#123;</span><br><span class="line">   <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;jumping rabbits&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºæœ‰äº† <code>english</code> åˆ†æå™¨ï¼Œè¿™ä¸ªæŸ¥è¯¢æ˜¯åœ¨æŸ¥æ‰¾ä»¥ jump å’Œ rabbit è¿™ä¸¤ä¸ªè¢«æå–è¯çš„æ–‡æ¡£ã€‚ä¸¤ä¸ªæ–‡æ¡£çš„ title å­—æ®µéƒ½åŒæ—¶åŒ…æ‹¬è¿™ä¸¤ä¸ªè¯ï¼Œæ‰€ä»¥ä¸¤ä¸ªæ–‡æ¡£å¾—åˆ°çš„è¯„åˆ†ä¹Ÿç›¸åŒï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;hits&quot;</span>: [</span><br><span class="line">     &#123;</span><br><span class="line">        <span class="attr">&quot;_id&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;_score&quot;</span>: <span class="number">0.42039964</span>,</span><br><span class="line">        <span class="attr">&quot;_source&quot;</span>: &#123;</span><br><span class="line">           <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;My rabbit jumps&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">        <span class="attr">&quot;_id&quot;</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;_score&quot;</span>: <span class="number">0.42039964</span>,</span><br><span class="line">        <span class="attr">&quot;_source&quot;</span>: &#123;</span><br><span class="line">           <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;Jumping jack rabbits&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœåªæ˜¯æŸ¥è¯¢ <code>title.std</code> å­—æ®µï¼Œé‚£ä¹ˆåªæœ‰æ–‡æ¡£ 2 æ˜¯åŒ¹é…çš„ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¦‚æœåŒæ—¶æŸ¥è¯¢ä¸¤ä¸ªå­—æ®µï¼Œç„¶åä½¿ç”¨ <code>bool</code> æŸ¥è¯¢å°†è¯„åˆ†ç»“æœ åˆå¹¶ ï¼Œé‚£ä¹ˆä¸¤ä¸ªæ–‡æ¡£éƒ½æ˜¯åŒ¹é…çš„ï¼ˆ <code>title</code> å­—æ®µçš„ä½œç”¨ï¼‰ï¼Œè€Œä¸”æ–‡æ¡£ 2 çš„ç›¸å…³åº¦è¯„åˆ†æ›´é«˜ï¼ˆ <code>title.std</code> å­—æ®µçš„ä½œç”¨ï¼‰ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET /my_index/_search</span><br><span class="line">&#123;</span><br><span class="line">   <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;multi_match&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;query&quot;</span>:  <span class="string">&quot;jumping rabbits&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>:   <span class="string">&quot;most_fields&quot;</span>, </span><br><span class="line">            <span class="attr">&quot;fields&quot;</span>: [ <span class="string">&quot;title&quot;</span>, <span class="string">&quot;title.std&quot;</span> ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¸Œæœ›å°†æ‰€æœ‰åŒ¹é…å­—æ®µçš„è¯„åˆ†åˆå¹¶èµ·æ¥ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>most_fields</code> ç±»å‹ã€‚è¿™è®© <code>multi_match</code> æŸ¥è¯¢ç”¨ <code>bool</code> æŸ¥è¯¢å°†ä¸¤ä¸ªå­—æ®µè¯­å¥åŒ…åœ¨é‡Œé¢ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ <code>dis_max</code> (æœ€ä½³å­—æ®µ) æŸ¥è¯¢ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;hits&quot;</span>: [</span><br><span class="line">     &#123;</span><br><span class="line">        <span class="attr">&quot;_id&quot;</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;_score&quot;</span>: <span class="number">0.8226396</span>, </span><br><span class="line">        <span class="attr">&quot;_source&quot;</span>: &#123;</span><br><span class="line">           <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;Jumping jack rabbits&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">        <span class="attr">&quot;_id&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;_score&quot;</span>: <span class="number">0.10741998</span>, </span><br><span class="line">        <span class="attr">&quot;_source&quot;</span>: &#123;</span><br><span class="line">           <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;My rabbit jumps&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–‡æ¡£ 2 ç°åœ¨çš„è¯„åˆ†è¦æ¯”æ–‡æ¡£ 1 é«˜ã€‚</p><p>ç”¨å¹¿åº¦åŒ¹é…å­—æ®µ <code>title</code> åŒ…æ‹¬å°½å¯èƒ½å¤šçš„æ–‡æ¡£â€”â€”ä»¥æå‡å¬å›ç‡â€”â€”åŒæ—¶åˆä½¿ç”¨å­—æ®µ <code>title.std</code> ä½œä¸º ä¿¡å· å°†ç›¸å…³åº¦æ›´é«˜çš„æ–‡æ¡£ç½®äºç»“æœé¡¶éƒ¨ã€‚</p><p>æ¯ä¸ªå­—æ®µå¯¹äºæœ€ç»ˆè¯„åˆ†çš„è´¡çŒ®å¯ä»¥é€šè¿‡è‡ªå®šä¹‰å€¼ <code>boost</code> æ¥æ§åˆ¶ã€‚æ¯”å¦‚ï¼Œä½¿ <code>title</code> å­—æ®µæ›´ä¸ºé‡è¦ï¼Œè¿™æ ·åŒæ—¶ä¹Ÿé™ä½äº†å…¶ä»–ä¿¡å·å­—æ®µçš„ä½œç”¨ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET /my_index/_search</span><br><span class="line">&#123;</span><br><span class="line">   <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;multi_match&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;query&quot;</span>:       <span class="string">&quot;jumping rabbits&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>:        <span class="string">&quot;most_fields&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;fields&quot;</span>:      [ <span class="string">&quot;title^10&quot;</span>, <span class="string">&quot;title.std&quot;</span> ] </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>title å­—æ®µçš„ boost çš„å€¼ä¸º 10 ä½¿å®ƒæ¯” title.std æ›´é‡è¦ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote><ul><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/most-fields.html">Elasticsearch: æƒå¨æŒ‡å— Â» æ·±å…¥æœç´¢ Â» å¤šå­—æ®µæœç´¢ Â» å¤šæ•°å­—æ®µ</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å¤šå­—æ®µæ˜ å°„&quot;&gt;&lt;a href=&quot;#å¤šå­—æ®µæ˜ å°„&quot; class=&quot;headerlink&quot; title=&quot;å¤šå­—æ®µæ˜ å°„&quot;&gt;&lt;/a&gt;å¤šå­—æ®µæ˜ å°„&lt;/h2&gt;&lt;p&gt;é¦–å…ˆè¦åšçš„äº‹æƒ…å°±æ˜¯å¯¹æˆ‘ä»¬çš„å­—æ®µç´¢å¼•ä¸¤æ¬¡ï¼šä¸€æ¬¡ä½¿ç”¨è¯å¹²æ¨¡å¼ä»¥åŠä¸€æ¬¡éè¯å¹²æ¨¡å¼ã€‚ä¸ºäº†åšåˆ°è¿™ç‚¹ï¼Œé‡‡ç”¨ &lt;code&gt;mult</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="åŸºæœ¬æœç´¢" scheme="http://example.com/categories/Elasticsearch/%E5%9F%BA%E6%9C%AC%E6%90%9C%E7%B4%A2/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>multi_match æŸ¥è¯¢</title>
    <link href="http://example.com/wiki/multi-match-%E6%9F%A5%E8%AF%A2/"/>
    <id>http://example.com/wiki/multi-match-%E6%9F%A5%E8%AF%A2/</id>
    <published>2021-07-06T12:37:26.000Z</published>
    <updated>2021-07-06T12:47:47.596Z</updated>
    
    <content type="html"><![CDATA[<p>multi_match æŸ¥è¯¢ä¸ºèƒ½åœ¨å¤šä¸ªå­—æ®µä¸Šåå¤æ‰§è¡Œç›¸åŒæŸ¥è¯¢æä¾›äº†ä¸€ç§ä¾¿æ·æ–¹å¼ã€‚</p><p>ğŸ“’ ğŸ“’ ğŸ“’</p><blockquote><p>multi_match å¤šåŒ¹é…æŸ¥è¯¢çš„ç±»å‹æœ‰å¤šç§ï¼Œå…¶ä¸­çš„ä¸‰ç§æ°å·§ä¸ äº†è§£æˆ‘ä»¬çš„æ•°æ® ä¸­ä»‹ç»çš„ä¸‰ä¸ªåœºæ™¯å¯¹åº”ï¼Œå³ï¼š<code>best_fields</code> ã€ <code>most_fields</code> å’Œ <code>cross_fields</code> ï¼ˆæœ€ä½³å­—æ®µã€å¤šæ•°å­—æ®µã€è·¨å­—æ®µï¼‰ã€‚</p></blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢çš„ç±»å‹æ˜¯ <code>best_fields</code> ï¼Œè¿™è¡¨ç¤ºå®ƒä¼šä¸ºæ¯ä¸ªå­—æ®µç”Ÿæˆä¸€ä¸ª <code>match</code> æŸ¥è¯¢ï¼Œç„¶åå°†å®ƒä»¬ç»„åˆåˆ° <code>dis_max</code> æŸ¥è¯¢çš„å†…éƒ¨ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;dis_max&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;queries&quot;</span>:  [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;title&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;query&quot;</span>: <span class="string">&quot;Quick brown fox&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;minimum_should_match&quot;</span>: <span class="string">&quot;30%&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">&quot;match&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;body&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;query&quot;</span>: <span class="string">&quot;Quick brown fox&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;minimum_should_match&quot;</span>: <span class="string">&quot;30%&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;tie_breaker&quot;</span>: <span class="number">0.3</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªæŸ¥è¯¢ç”¨ multi_match é‡å†™æˆæ›´ç®€æ´çš„å½¢å¼ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;multi_match&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;query&quot;</span>:                <span class="string">&quot;Quick brown fox&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;type&quot;</span>:                 <span class="string">&quot;best_fields&quot;</span>, </span><br><span class="line">        <span class="attr">&quot;fields&quot;</span>:               [ <span class="string">&quot;title&quot;</span>, <span class="string">&quot;body&quot;</span> ],</span><br><span class="line">        <span class="attr">&quot;tie_breaker&quot;</span>:          <span class="number">0.3</span>,</span><br><span class="line">        <span class="attr">&quot;minimum_should_match&quot;</span>: <span class="string">&quot;30%&quot;</span> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>âš ï¸ âš ï¸ âš ï¸</p><ul><li>best_fields ç±»å‹æ˜¯é»˜è®¤å€¼ï¼Œå¯ä»¥ä¸æŒ‡å®šã€‚</li><li>å¦‚ minimum_should_match æˆ– operator è¿™æ ·çš„å‚æ•°ä¼šè¢«ä¼ é€’åˆ°ç”Ÿæˆçš„ match æŸ¥è¯¢ä¸­ã€‚</li></ul><h2 id="æŸ¥è¯¢å­—æ®µåç§°çš„æ¨¡ç³ŠåŒ¹é…"><a href="#æŸ¥è¯¢å­—æ®µåç§°çš„æ¨¡ç³ŠåŒ¹é…" class="headerlink" title="æŸ¥è¯¢å­—æ®µåç§°çš„æ¨¡ç³ŠåŒ¹é…"></a>æŸ¥è¯¢å­—æ®µåç§°çš„æ¨¡ç³ŠåŒ¹é…</h2><p>å­—æ®µåç§°å¯ä»¥ç”¨ <code>æ¨¡ç³ŠåŒ¹é…</code> çš„æ–¹å¼ç»™å‡ºï¼šä»»ä½•ä¸æ¨¡ç³Šæ¨¡å¼æ­£åˆ™åŒ¹é…çš„å­—æ®µéƒ½ä¼šè¢«åŒ…æ‹¬åœ¨æœç´¢æ¡ä»¶ä¸­ï¼Œä¾‹å¦‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼åŒæ—¶åŒ¹é… <code>book_title</code> ã€ <code>chapter_title</code> å’Œ <code>section_title</code> ï¼ˆä¹¦åã€ç« åã€èŠ‚åï¼‰è¿™ä¸‰ä¸ªå­—æ®µï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;multi_match&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;query&quot;</span>:  <span class="string">&quot;Quick brown fox&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;fields&quot;</span>: <span class="string">&quot;*_title&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æå‡å•ä¸ªå­—æ®µçš„æƒé‡"><a href="#æå‡å•ä¸ªå­—æ®µçš„æƒé‡" class="headerlink" title="æå‡å•ä¸ªå­—æ®µçš„æƒé‡"></a>æå‡å•ä¸ªå­—æ®µçš„æƒé‡</h2><p>å¯ä»¥ä½¿ç”¨ ^ å­—ç¬¦è¯­æ³•ä¸ºå•ä¸ªå­—æ®µæå‡æƒé‡ï¼Œåœ¨å­—æ®µåç§°çš„æœ«å°¾æ·»åŠ  ^boost ï¼Œå…¶ä¸­ boost æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;multi_match&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;query&quot;</span>:  <span class="string">&quot;Quick brown fox&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;fields&quot;</span>: [ <span class="string">&quot;*_title&quot;</span>, <span class="string">&quot;chapter_title^2&quot;</span> ] </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>chapter_title è¿™ä¸ªå­—æ®µçš„ boost å€¼ä¸º 2 ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªå­—æ®µ book_title å’Œ section_title å­—æ®µçš„é»˜è®¤ boost å€¼ä¸º 1 ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote><ul><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/multi-match-query.html">Elasticsearch: æƒå¨æŒ‡å— Â» æ·±å…¥æœç´¢ Â» å¤šå­—æ®µæœç´¢ Â» multi_match æŸ¥è¯¢</a></li><li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.x/query-dsl-multi-match-query.html">Elasticsearch Guide [7.x] Â» Query DSL Â» Full text queries Â» Multi-match query</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;multi_match æŸ¥è¯¢ä¸ºèƒ½åœ¨å¤šä¸ªå­—æ®µä¸Šåå¤æ‰§è¡Œç›¸åŒæŸ¥è¯¢æä¾›äº†ä¸€ç§ä¾¿æ·æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ“’ ğŸ“’ ğŸ“’&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;multi_match å¤šåŒ¹é…æŸ¥è¯¢çš„ç±»å‹æœ‰å¤šç§ï¼Œå…¶ä¸­çš„ä¸‰ç§æ°å·§ä¸ äº†è§£æˆ‘ä»¬çš„æ•°æ® ä¸­ä»‹ç»çš„ä¸‰ä¸ªåœºæ™¯å¯¹åº”ï¼Œå³ï¼š&lt;code&gt;</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="åŸºæœ¬æœç´¢" scheme="http://example.com/categories/Elasticsearch/%E5%9F%BA%E6%9C%AC%E6%90%9C%E7%B4%A2/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>dis_maxæŸ¥è¯¢</title>
    <link href="http://example.com/wiki/dis-max%E6%9F%A5%E8%AF%A2/"/>
    <id>http://example.com/wiki/dis-max%E6%9F%A5%E8%AF%A2/</id>
    <published>2021-07-06T12:09:23.000Z</published>
    <updated>2021-07-06T15:33:19.291Z</updated>
    
    <content type="html"><![CDATA[<p>å‡è®¾æœ‰ä¸ªç½‘ç«™å…è®¸ç”¨æˆ·æœç´¢åšå®¢çš„å†…å®¹ï¼Œä»¥ä¸‹é¢ä¸¤ç¯‡åšå®¢å†…å®¹æ–‡æ¡£ä¸ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">PUT /my_index/my_type/<span class="number">1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;Quick brown rabbits&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;body&quot;</span>:  <span class="string">&quot;Brown rabbits are commonly seen.&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PUT /my_index/my_type/<span class="number">2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;Keeping pets healthy&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;body&quot;</span>:  <span class="string">&quot;My quick brown fox eats rabbits on a regular basis.&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”¨æˆ·è¾“å…¥è¯ç»„ <code>Brown fox</code> ç„¶åç‚¹å‡»æœç´¢æŒ‰é’®ã€‚äº‹å…ˆï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“ç”¨æˆ·çš„æœç´¢é¡¹æ˜¯ä¼šåœ¨ title è¿˜æ˜¯åœ¨ body å­—æ®µä¸­è¢«æ‰¾åˆ°ï¼Œä½†æ˜¯ï¼Œç”¨æˆ·å¾ˆæœ‰å¯èƒ½æ˜¯æƒ³æœç´¢ç›¸å…³çš„è¯ç»„ã€‚ç”¨è‚‰çœ¼åˆ¤æ–­ï¼Œæ–‡æ¡£ 2 çš„åŒ¹é…åº¦æ›´é«˜ï¼Œå› ä¸ºå®ƒåŒæ—¶åŒ…æ‹¬è¦æŸ¥æ‰¾çš„ä¸¤ä¸ªè¯ï¼š</p><p>ç°åœ¨è¿è¡Œä»¥ä¸‹ bool æŸ¥è¯¢ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;bool&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;should&quot;</span>: [</span><br><span class="line">                &#123; <span class="attr">&quot;match&quot;</span>: &#123; <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;Brown fox&quot;</span> &#125;&#125;,</span><br><span class="line">                &#123; <span class="attr">&quot;match&quot;</span>: &#123; <span class="attr">&quot;body&quot;</span>:  <span class="string">&quot;Brown fox&quot;</span> &#125;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯æˆ‘ä»¬å‘ç°æŸ¥è¯¢çš„ç»“æœæ˜¯æ–‡æ¡£ 1 çš„è¯„åˆ†æ›´é«˜ï¼š</p><img src="https://oscimg.oschina.net/oscnet/up-fa805607436bd64629e31ea8ea574c330cf.png" width=920 height=450>  <p>ä¸ºäº†ç†è§£å¯¼è‡´è¿™æ ·çš„åŸå› ï¼Œéœ€è¦å›æƒ³ä¸€ä¸‹ bool æ˜¯å¦‚ä½•è®¡ç®—è¯„åˆ†çš„ï¼š</p><p>å®ƒä¼šæ‰§è¡Œ should è¯­å¥ä¸­çš„ä¸¤ä¸ªæŸ¥è¯¢ã€‚<br>åŠ å’Œä¸¤ä¸ªæŸ¥è¯¢çš„è¯„åˆ†ã€‚<br>ä¹˜ä»¥åŒ¹é…è¯­å¥çš„æ€»æ•°ã€‚<br>é™¤ä»¥æ‰€æœ‰è¯­å¥æ€»æ•°ï¼ˆè¿™é‡Œä¸ºï¼š2ï¼‰ã€‚</p><p>æ–‡æ¡£ 1 çš„ä¸¤ä¸ªå­—æ®µéƒ½åŒ…å« <code>brown</code> è¿™ä¸ªè¯ï¼Œæ‰€ä»¥ä¸¤ä¸ª <code>match</code> è¯­å¥éƒ½èƒ½æˆåŠŸåŒ¹é…å¹¶ä¸”æœ‰ä¸€ä¸ªè¯„åˆ†ã€‚æ–‡æ¡£ 2 çš„ body å­—æ®µåŒæ—¶åŒ…å« <code>brown</code> å’Œ <code>fox</code> è¿™ä¸¤ä¸ªè¯ï¼Œä½† title å­—æ®µæ²¡æœ‰åŒ…å«ä»»ä½•è¯ã€‚è¿™æ ·ï¼Œ body æŸ¥è¯¢ç»“æœä¸­çš„é«˜åˆ†ï¼ŒåŠ ä¸Š title æŸ¥è¯¢ä¸­çš„ 0 åˆ†ï¼Œç„¶åä¹˜ä»¥äºŒåˆ†ä¹‹ä¸€ï¼Œå°±å¾—åˆ°æ¯”æ–‡æ¡£ 1 æ›´ä½çš„æ•´ä½“è¯„åˆ†ã€‚</p><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œ title å’Œ body å­—æ®µæ˜¯ç›¸äº’ç«äº‰çš„å…³ç³»ï¼Œæ‰€ä»¥å°±éœ€è¦æ‰¾åˆ°å•ä¸ª æœ€ä½³åŒ¹é… çš„å­—æ®µã€‚</p><p>å¦‚æœä¸æ˜¯ç®€å•å°†æ¯ä¸ªå­—æ®µçš„è¯„åˆ†ç»“æœåŠ åœ¨ä¸€èµ·ï¼Œè€Œæ˜¯å°† <code>æœ€ä½³åŒ¹é…</code> å­—æ®µçš„è¯„åˆ†ä½œä¸ºæŸ¥è¯¢çš„æ•´ä½“è¯„åˆ†ï¼Œç»“æœä¼šæ€æ ·ï¼Ÿè¿™æ ·è¿”å›çš„ç»“æœå¯èƒ½æ˜¯ï¼š åŒæ—¶ åŒ…å« <code>brown</code> å’Œ <code>fox</code> çš„å•ä¸ªå­—æ®µæ¯”åå¤å‡ºç°ç›¸åŒè¯è¯­çš„å¤šä¸ªä¸åŒå­—æ®µæœ‰æ›´é«˜çš„ç›¸å…³åº¦ã€‚</p><h2 id="dis-max-æŸ¥è¯¢"><a href="#dis-max-æŸ¥è¯¢" class="headerlink" title="dis_max æŸ¥è¯¢"></a>dis_max æŸ¥è¯¢</h2><p>ä¸ä½¿ç”¨ <code>bool</code> æŸ¥è¯¢ï¼Œå¯ä»¥ä½¿ç”¨ <code>dis_max</code> å³åˆ†ç¦» æœ€å¤§åŒ–æŸ¥è¯¢ <code>ï¼ˆDisjunction Max Queryï¼‰</code> ã€‚åˆ†ç¦»ï¼ˆDisjunctionï¼‰çš„æ„æ€æ˜¯ æˆ–ï¼ˆorï¼‰ ï¼Œè¿™ä¸å¯ä»¥æŠŠç»“åˆï¼ˆconjunctionï¼‰ç†è§£æˆ ä¸ï¼ˆandï¼‰ ç›¸å¯¹åº”ã€‚åˆ†ç¦»æœ€å¤§åŒ–æŸ¥è¯¢ï¼ˆDisjunction Max Queryï¼‰æŒ‡çš„æ˜¯ï¼š å°†ä»»ä½•ä¸ä»»ä¸€æŸ¥è¯¢åŒ¹é…çš„æ–‡æ¡£ä½œä¸ºç»“æœè¿”å›ï¼Œä½†åªå°†æœ€ä½³åŒ¹é…çš„è¯„åˆ†ä½œä¸ºæŸ¥è¯¢çš„è¯„åˆ†ç»“æœè¿”å› ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;query&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;dis_max&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;queries&quot;</span>: [</span><br><span class="line">                &#123; <span class="attr">&quot;match&quot;</span>: &#123; <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;Brown fox&quot;</span> &#125;&#125;,</span><br><span class="line">                &#123; <span class="attr">&quot;match&quot;</span>: &#123; <span class="attr">&quot;body&quot;</span>:  <span class="string">&quot;Brown fox&quot;</span> &#125;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœä¸ºï¼š<br><img src="https://oscimg.oschina.net/oscnet/up-f4e15cd66644b0031abe4757efdcfdd2886.png" width=900 height=450>  </p><h2 id="Top-level-parameters-for-dis-maxedit"><a href="#Top-level-parameters-for-dis-maxedit" class="headerlink" title="Top-level parameters for dis_maxedit"></a>Top-level parameters for dis_maxedit</h2><ul><li><code>queries</code><br>(Required, array of query objects) Contains one or more query clauses. Returned documents must match one or more of these queries. If a document matches multiple queries, Elasticsearch uses the highest relevance score.</li><li><code>tie_breaker</code><br>(Optional, float) Floating point number between 0 and 1.0 used to increase the relevance scores of documents matching multiple query clauses. Defaults to 0.0.</li></ul><p>You can use the tie_breaker value to assign higher relevance scores to documents that contain the same term in multiple fields than documents that contain this term in only the best of those multiple fields, without confusing this with the better case of two different terms in the multiple fields.</p><p>If a document matches multiple clauses, the dis_max query calculates the relevance score for the document as follows:</p><p>Take the relevance score from a matching clause with the highest score.<br>Multiply the score from any other matching clauses by the tie_breaker value.<br>Add the highest score to the multiplied scores.<br>If the tie_breaker value is greater than 0.0, all matching clauses count, but the clause with the highest score counts most.</p><p><code>dis_max</code>ï¼Œåªæ˜¯å–åˆ†æ•°æœ€é«˜çš„é‚£ä¸ªqueryçš„åˆ†æ•°è€Œå·²ï¼Œå®Œå…¨ä¸è€ƒè™‘å…¶ä»–queryçš„åˆ†æ•°ï¼Œè¿™ç§ä¸€åˆ€åˆ‡çš„åšæ³•ï¼Œå¯èƒ½å¯¼è‡´åœ¨æœ‰å…¶ä»–queryçš„å½±å“ä¸‹ï¼Œscoreä¸å‡†ç¡®çš„æƒ…å†µï¼Œè¿™æ—¶ä¸ºäº†ä½¿ç”¨ç»“æœæ›´å‡†ç¡®ï¼Œæœ€å¥½è¿˜æ˜¯è¦è€ƒè™‘åˆ°å…¶ä»–queryçš„å½±å“;<br>ä½¿ç”¨ <code>tie_breaker</code> å°†å…¶ä»–queryçš„åˆ†æ•°ä¹Ÿè€ƒè™‘è¿›å», <code>tie_breaker</code> å‚æ•°çš„æ„ä¹‰ï¼Œå°†å…¶ä»–queryçš„åˆ†æ•°ä¹˜ä»¥<code>tie_breaker</code>ï¼Œç„¶åç»¼åˆè€ƒè™‘åä¸æœ€é«˜åˆ†æ•°çš„é‚£ä¸ªqueryçš„åˆ†æ•°ç»¼åˆåœ¨ä¸€èµ·è¿›è¡Œè®¡ç®—ï¼Œè¿™æ ·åšé™¤äº†å–æœ€é«˜åˆ†ä»¥å¤–ï¼Œè¿˜ä¼šè€ƒè™‘å…¶ä»–çš„queryçš„åˆ†æ•°ã€‚<code>tie_breaker</code>çš„å€¼ï¼Œè®¾ç½®åœ¨åœ¨0~1ä¹‹é—´ï¼Œæ˜¯ä¸ªå°æ•°å°±è¡Œï¼Œæ²¡æœ‰å›ºå®šçš„å€¼</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote><ul><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/_best_fields.html">Elasticsearch: æƒå¨æŒ‡å— Â» æ·±å…¥æœç´¢ Â» å¤šå­—æ®µæœç´¢ Â» æœ€ä½³å­—æ®µ</a></li><li><a href="https://learnku.com/docs/elasticsearch73/7.3">Elasticsearchä¸­æ–‡æ–‡æ¡£</a></li><li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.x/query-dsl-dis-max-query.html">Elasticsearch Guide [7.x] Â» Query DSL Â» Compound queries Â» Disjunction max query</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å‡è®¾æœ‰ä¸ªç½‘ç«™å…è®¸ç”¨æˆ·æœç´¢åšå®¢çš„å†…å®¹ï¼Œä»¥ä¸‹é¢ä¸¤ç¯‡åšå®¢å†…å®¹æ–‡æ¡£ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;sp</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="åŸºæœ¬æœç´¢" scheme="http://example.com/categories/Elasticsearch/%E5%9F%BA%E6%9C%AC%E6%90%9C%E7%B4%A2/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>elasticsearchè¢«ç ´åçš„ç›¸ä¼¼åº¦</title>
    <link href="http://example.com/wiki/elasticsearch%E8%A2%AB%E7%A0%B4%E5%9D%8F%E7%9A%84%E7%9B%B8%E4%BC%BC%E5%BA%A6/"/>
    <id>http://example.com/wiki/elasticsearch%E8%A2%AB%E7%A0%B4%E5%9D%8F%E7%9A%84%E7%9B%B8%E4%BC%BC%E5%BA%A6/</id>
    <published>2021-07-06T11:50:11.000Z</published>
    <updated>2021-07-06T11:53:48.013Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨è®¨è®ºæ›´å¤æ‚çš„ å¤šå­—æ®µæœç´¢ ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå¿«é€Ÿè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆåªåœ¨ä¸»åˆ†ç‰‡ä¸Š åˆ›å»ºæµ‹è¯•ç´¢å¼• ã€‚</p><p>ç”¨æˆ·ä¼šæ—¶ä¸æ—¶çš„æŠ±æ€¨æ— æ³•æŒ‰ç›¸å…³åº¦æ’åºå¹¶æä¾›ç®€çŸ­çš„é‡ç°æ­¥éª¤ï¼šç”¨æˆ·ç´¢å¼•äº†ä¸€äº›æ–‡æ¡£ï¼Œè¿è¡Œä¸€ä¸ªç®€å•çš„æŸ¥è¯¢ï¼Œç„¶åå‘ç°æ˜æ˜¾ä½ç›¸å…³åº¦çš„ç»“æœå‡ºç°åœ¨é«˜ç›¸å…³åº¦ç»“æœä¹‹ä¸Šã€‚</p><p>ä¸ºäº†ç†è§£ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Œå¯ä»¥è®¾æƒ³ï¼Œæˆ‘ä»¬åœ¨ä¸¤ä¸ªä¸»åˆ†ç‰‡ä¸Šåˆ›å»ºäº†ç´¢å¼•å’Œæ€»å…± 10 ä¸ªæ–‡æ¡£ï¼Œå…¶ä¸­ 6 ä¸ªæ–‡æ¡£æœ‰å•è¯ foo ã€‚å¯èƒ½æ˜¯åˆ†ç‰‡ 1 æœ‰å…¶ä¸­ 3 ä¸ª foo æ–‡æ¡£ï¼Œè€Œåˆ†ç‰‡ 2 æœ‰å…¶ä¸­å¦å¤– 3 ä¸ªæ–‡æ¡£ï¼Œæ¢å¥è¯è¯´ï¼Œæ‰€æœ‰æ–‡æ¡£æ˜¯å‡åŒ€åˆ†å¸ƒå­˜å‚¨çš„ã€‚</p><p>åœ¨ ä»€ä¹ˆæ˜¯ç›¸å…³åº¦ï¼Ÿä¸­ï¼Œæˆ‘ä»¬æè¿°äº† Elasticsearch é»˜è®¤ä½¿ç”¨çš„ç›¸ä¼¼åº¦ç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•å«åš è¯é¢‘/é€†å‘æ–‡æ¡£é¢‘ç‡ æˆ– TF/IDF ã€‚è¯é¢‘æ˜¯è®¡ç®—æŸä¸ªè¯åœ¨å½“å‰è¢«æŸ¥è¯¢æ–‡æ¡£é‡ŒæŸä¸ªå­—æ®µä¸­å‡ºç°çš„é¢‘ç‡ï¼Œå‡ºç°çš„é¢‘ç‡è¶Šé«˜ï¼Œæ–‡æ¡£è¶Šç›¸å…³ã€‚ é€†å‘æ–‡æ¡£é¢‘ç‡ å°† æŸä¸ªè¯åœ¨ç´¢å¼•å†…æ‰€æœ‰æ–‡æ¡£å‡ºç°çš„ç™¾åˆ†æ•° è€ƒè™‘åœ¨å†…ï¼Œå‡ºç°çš„é¢‘ç‡è¶Šé«˜ï¼Œå®ƒçš„æƒé‡å°±è¶Šä½ã€‚</p><p>ä½†æ˜¯ç”±äºæ€§èƒ½åŸå› ï¼Œ Elasticsearch ä¸ä¼šè®¡ç®—ç´¢å¼•å†…æ‰€æœ‰æ–‡æ¡£çš„ IDF ã€‚ç›¸åï¼Œæ¯ä¸ªåˆ†ç‰‡ä¼šæ ¹æ® è¯¥åˆ†ç‰‡ å†…çš„æ‰€æœ‰æ–‡æ¡£è®¡ç®—ä¸€ä¸ªæœ¬åœ° IDF ã€‚</p><p>å› ä¸ºæ–‡æ¡£æ˜¯å‡åŒ€åˆ†å¸ƒå­˜å‚¨çš„ï¼Œä¸¤ä¸ªåˆ†ç‰‡çš„ IDF æ˜¯ç›¸åŒçš„ã€‚ç›¸åï¼Œè®¾æƒ³å¦‚æœæœ‰ 5 ä¸ª foo æ–‡æ¡£å­˜äºåˆ†ç‰‡ 1 ï¼Œè€Œç¬¬ 6 ä¸ªæ–‡æ¡£å­˜äºåˆ†ç‰‡ 2 ï¼Œåœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œ foo åœ¨ä¸€ä¸ªåˆ†ç‰‡é‡Œéå¸¸æ™®é€šï¼ˆæ‰€ä»¥ä¸é‚£ä¹ˆé‡è¦ï¼‰ï¼Œä½†æ˜¯åœ¨å¦ä¸€ä¸ªåˆ†ç‰‡é‡Œéå¸¸å‡ºç°å¾ˆå°‘ï¼ˆæ‰€ä»¥ä¼šæ˜¾å¾—æ›´é‡è¦ï¼‰ã€‚è¿™äº› IDF ä¹‹é—´çš„å·®å¼‚ä¼šå¯¼è‡´ä¸æ­£ç¡®çš„ç»“æœã€‚</p><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œæœ¬åœ°å’Œå…¨å±€çš„ IDF çš„å·®å¼‚ä¼šéšç€ç´¢å¼•é‡Œæ–‡æ¡£æ•°çš„å¢å¤šæ¸æ¸æ¶ˆå¤±ï¼Œåœ¨çœŸå®ä¸–ç•Œçš„æ•°æ®é‡ä¸‹ï¼Œå±€éƒ¨çš„ IDF ä¼šè¢«è¿…é€Ÿå‡åŒ–ï¼Œæ‰€ä»¥ä¸Šè¿°é—®é¢˜å¹¶ä¸æ˜¯ç›¸å…³åº¦è¢«ç ´åæ‰€å¯¼è‡´çš„ï¼Œè€Œæ˜¯ç”±äºæ•°æ®å¤ªå°‘ã€‚</p><p>ä¸ºäº†æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç¬¬ä¸€ç§æ˜¯åªåœ¨ä¸»åˆ†ç‰‡ä¸Šåˆ›å»ºç´¢å¼•ï¼Œæ­£å¦‚ match æŸ¥è¯¢ é‡Œä»‹ç»çš„é‚£æ ·ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªåˆ†ç‰‡ï¼Œé‚£ä¹ˆæœ¬åœ°çš„ IDF å°±æ˜¯ å…¨å±€çš„ IDFã€‚</p><p>ç¬¬äºŒä¸ªæ–¹å¼å°±æ˜¯åœ¨æœç´¢è¯·æ±‚åæ·»åŠ  ?search_type=dfs_query_then_fetch ï¼Œ dfs æ˜¯æŒ‡ åˆ†å¸ƒå¼é¢‘ç‡æœç´¢ï¼ˆDistributed Frequency Searchï¼‰ ï¼Œ å®ƒå‘Šè¯‰ Elasticsearch ï¼Œå…ˆåˆ†åˆ«è·å¾—æ¯ä¸ªåˆ†ç‰‡æœ¬åœ°çš„ IDF ï¼Œç„¶åæ ¹æ®ç»“æœå†è®¡ç®—æ•´ä¸ªç´¢å¼•çš„å…¨å±€ IDF ã€‚</p><p>ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸Šä½¿ç”¨ dfs_query_then_fetch ã€‚å®Œå…¨æ²¡æœ‰å¿…è¦ã€‚åªè¦æœ‰è¶³å¤Ÿçš„æ•°æ®å°±èƒ½ä¿è¯è¯é¢‘æ˜¯å‡åŒ€åˆ†å¸ƒçš„ã€‚æ²¡æœ‰ç†ç”±ç»™æ¯ä¸ªæŸ¥è¯¢é¢å¤–åŠ ä¸Š DFS è¿™æ­¥ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote><ul><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/relevance-intro.html">Elasticsearch: æƒå¨æŒ‡å— Â» åŸºç¡€å…¥é—¨ Â» æ’åºä¸ç›¸å…³æ€§ Â» ä»€ä¹ˆæ˜¯ç›¸å…³æ€§?</a></li><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/relevance-is-broken.html">Elasticsearch: æƒå¨æŒ‡å— Â» æ·±å…¥æœç´¢ Â» å…¨æ–‡æœç´¢ Â» è¢«ç ´åçš„ç›¸å…³åº¦ï¼</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨è®¨è®ºæ›´å¤æ‚çš„ å¤šå­—æ®µæœç´¢ ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå¿«é€Ÿè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆåªåœ¨ä¸»åˆ†ç‰‡ä¸Š åˆ›å»ºæµ‹è¯•ç´¢å¼• ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·ä¼šæ—¶ä¸æ—¶çš„æŠ±æ€¨æ— æ³•æŒ‰ç›¸å…³åº¦æ’åºå¹¶æä¾›ç®€çŸ­çš„é‡ç°æ­¥éª¤ï¼šç”¨æˆ·ç´¢å¼•äº†ä¸€äº›æ–‡æ¡£ï¼Œè¿è¡Œä¸€ä¸ªç®€å•çš„æŸ¥è¯¢ï¼Œç„¶åå‘ç°æ˜æ˜¾ä½ç›¸å…³åº¦çš„ç»“æœå‡ºç°åœ¨é«˜ç›¸å…³åº¦ç»“æœä¹‹ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç†</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="åŸºæœ¬æœç´¢" scheme="http://example.com/categories/Elasticsearch/%E5%9F%BA%E6%9C%AC%E6%90%9C%E7%B4%A2/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>canalåŒæ­¥esåéƒ¨åˆ†å­—æ®µä¸ºnull</title>
    <link href="http://example.com/wiki/canal%E5%90%8C%E6%AD%A5es%E5%90%8E%E9%83%A8%E5%88%86%E5%AD%97%E6%AE%B5%E4%B8%BAnull/"/>
    <id>http://example.com/wiki/canal%E5%90%8C%E6%AD%A5es%E5%90%8E%E9%83%A8%E5%88%86%E5%AD%97%E6%AE%B5%E4%B8%BAnull/</id>
    <published>2021-07-06T08:11:15.000Z</published>
    <updated>2021-07-06T08:27:31.028Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç°è±¡"><a href="#ç°è±¡" class="headerlink" title="ç°è±¡"></a>ç°è±¡</h2><img src="https://oscimg.oschina.net/oscnet/up-54f2fa4a9dfb35acb02b77c5c6bc8c84c0f.png" width=800 height=400><p>é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">dataSourceKey: defaultDS        # æºæ•°æ®æºçš„key, å¯¹åº”ä¸Šé¢é…ç½®çš„srcDataSourcesä¸­çš„å€¼</span><br><span class="line">destination: example            # cannalçš„instanceæˆ–è€…MQçš„topic</span><br><span class="line">groupId: g1 # å¯¹åº”MQæ¨¡å¼ä¸‹çš„groupId, åªä¼šåŒæ­¥å¯¹åº”groupIdçš„æ•°æ®</span><br><span class="line">esMapping:</span><br><span class="line">  _index: rd_member_fans_info           # es çš„ç´¢å¼•åç§°</span><br><span class="line">  _type: _doc                   # es çš„docåç§°</span><br><span class="line">  _id: _id                      # es çš„_id, å¦‚æœä¸é…ç½®è¯¥é¡¹å¿…é¡»é…ç½®ä¸‹é¢çš„pké¡¹_idåˆ™ä¼šç”±esè‡ªåŠ¨åˆ†é…</span><br><span class="line">#  pk: id                       # å¦‚æœä¸éœ€è¦_id, åˆ™éœ€è¦æŒ‡å®šä¸€ä¸ªå±æ€§ä¸ºä¸»é”®å±æ€§</span><br><span class="line">#  # sqlæ˜ å°„</span><br><span class="line">  sql: &#x27;SELECT t.id as _id , t.redtom_id ,t.fans_redtom_id,t.fans_username,t.fans_introduce,t.fans_avatar,t.is_each_following,t.follow_channel,t.create_time,t.update_time,t.`status` FROM rd_member_fans_info t&#x27;</span><br><span class="line">#  objFields:</span><br><span class="line">#    _labels: array:;           # æ•°ç»„æˆ–è€…å¯¹è±¡å±æ€§, array:; ä»£è¡¨ä»¥;å­—æ®µé‡Œé¢æ˜¯ä»¥;åˆ†éš”çš„</span><br><span class="line">#    _obj: object               # jsonå¯¹è±¡</span><br><span class="line">  etlCondition: &quot;where t.update_time&gt;=&#123;&#125;&quot; # etl çš„æ¡ä»¶å‚æ•°</span><br><span class="line">  commitBatch: 3000 # æäº¤æ‰¹å¤§å°</span><br></pre></td></tr></table></figure><p>âš ï¸ âš ï¸<br>sqlæ‰§è¡Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼</p><img src="https://oscimg.oschina.net/oscnet/up-24a77ccd81ae7be4c6d4434f3d1d28edea0.png" width=800 height=400><p>canal-adapter è·å–binlogæ•°æ®ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œæ˜¾ç¤ºæ—¥å¿—å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2021-07-06 15:39:24.588 [pool-1-thread-1] DEBUG c.a.o.canal.client.adapter.es.core.service.ESSyncService - DML: &#123;&quot;data&quot;:[&#123;&quot;id&quot;:3,&quot;redtom_id&quot;:1,&quot;fans_redtom_id&quot;:1,&quot;fans_username&quot;:&quot;1&quot;,&quot;fans_introduce&quot;:&quot;1&quot;,&quot;fans_avatar&quot;:&quot;1&quot;,&quot;is_each_following&quot;:1,&quot;follow_channel&quot;:1,&quot;create_time&quot;:1625556851000,&quot;update_time&quot;:1625556851000,&quot;status&quot;:2&#125;],&quot;database&quot;:&quot;redtom_dev&quot;,&quot;destination&quot;:&quot;example&quot;,&quot;es&quot;:1625557164000,&quot;groupId&quot;:&quot;g1&quot;,&quot;isDdl&quot;:false,&quot;old&quot;:null,&quot;pkNames&quot;:[&quot;id&quot;],&quot;sql&quot;:&quot;&quot;,&quot;table&quot;:&quot;rd_member_fans_info&quot;,&quot;ts&quot;:1625557164587,&quot;type&quot;:&quot;INSERT&quot;&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åçœ‹ä¸€ä¸‹æˆ‘åˆ›å»ºç´¢å¼•çš„mapping<br><img src="https://oscimg.oschina.net/oscnet/up-8eac2e46423574ae04cd8694d2ac7389530.png" width=800 height=400>  </p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>è°ƒæ•´sqlå¦‚ä¸‹ï¼š </p><p><code>SELECT t.id as _id , t.redtom_id ,t.fans_redtom_id,t.fans_username,t.fans_introduce,t.fans_avatar,t.is_each_following,t.follow_channel,t.</code>status<code> as is_deleted , t.create_time,t.update_time FROM rd_member_fans_info t</code></p><p>è°ƒæ•´äº†é‚£äº›ä¸œè¥¿å‘¢ï¼Ÿ     <code>status</code> çš„é¡ºåºæå‰è€Œå·²ï¼</p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>æ‰§è¡Œä¸€ä¸‹å‘½ä»¤ï¼š<br><code>curl http://127.0.0.1:8081/etl/es7/rd_member_fans_info.yml -X POST</code></p><p>canal-adapter æ—¥å¿—å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2021-07-06 16:21:33.519 [http-nio-8081-exec-1] INFO  c.a.otter.canal.client.adapter.es7x.etl.ESEtlService - start etl to import data to index: rd_member_fans_info</span><br><span class="line">2021-07-06 16:21:33.527 [http-nio-8081-exec-1] INFO  c.a.otter.canal.client.adapter.es7x.etl.ESEtlService - æ•°æ®å…¨é‡å¯¼å…¥å®Œæˆ, ä¸€å…±å¯¼å…¥ 3 æ¡æ•°æ®, è€—æ—¶: 7</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹esæ•°æ®ï¼š</p><img src="https://oscimg.oschina.net/oscnet/up-69c4ac09e2b8fcd27a5b990e378664d6568.png" width=800 height=400>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ç°è±¡&quot;&gt;&lt;a href=&quot;#ç°è±¡&quot; class=&quot;headerlink&quot; title=&quot;ç°è±¡&quot;&gt;&lt;/a&gt;ç°è±¡&lt;/h2&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-54f2fa4a9dfb35acb02b77c5c6</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="é—®é¢˜è®°å½•" scheme="http://example.com/categories/Elasticsearch/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>elasticsearch-analyzer</title>
    <link href="http://example.com/wiki/elasticsearch-analyzer/"/>
    <id>http://example.com/wiki/elasticsearch-analyzer/</id>
    <published>2021-07-06T07:02:01.000Z</published>
    <updated>2021-07-06T11:46:55.555Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æµ‹è¯•å¸¸è§åˆ†æå™¨"><a href="#æµ‹è¯•å¸¸è§åˆ†æå™¨" class="headerlink" title="æµ‹è¯•å¸¸è§åˆ†æå™¨"></a>æµ‹è¯•å¸¸è§åˆ†æå™¨</h2><p><code>GET /_analyze</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;analyzer&quot;</span>: <span class="string">&quot;standard&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;Oredr it now from Amazon  #fun #girlpower #fatscooter #Fat #Cats&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>GET /_analyze</code>  </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;analyzer&quot;</span>: <span class="string">&quot;english&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;Oredr it now from Amazon  #fun #girlpower #fatscooter #Fat #Cats&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>GET /_analyze</code>   </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;analyzer&quot;</span>: <span class="string">&quot;simple&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;Oredr it now from Amazon  #fun #girlpower #fatscooter #Fat Cats&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>GET /_analyze</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;analyzer&quot;</span>: <span class="string">&quot;stop&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;Oredr it now from Amazon  #fun #girlpower #fatscooter #Fat Cats&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é»˜è®¤åˆ†æå™¨"><a href="#é»˜è®¤åˆ†æå™¨" class="headerlink" title="é»˜è®¤åˆ†æå™¨"></a>é»˜è®¤åˆ†æå™¨</h2><p>è™½ç„¶æˆ‘ä»¬å¯ä»¥åœ¨å­—æ®µå±‚çº§æŒ‡å®šåˆ†æå™¨ï¼Œä½†æ˜¯å¦‚æœè¯¥å±‚çº§æ²¡æœ‰æŒ‡å®šä»»ä½•çš„åˆ†æå™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•èƒ½ç¡®å®šè¿™ä¸ªå­—æ®µä½¿ç”¨çš„æ˜¯å“ªä¸ªåˆ†æå™¨å‘¢ï¼Ÿ  </p><p>åˆ†æå™¨å¯ä»¥ä»ä¸‰ä¸ªå±‚é¢è¿›è¡Œå®šä¹‰ï¼šæŒ‰å­—æ®µï¼ˆper-fieldï¼‰ã€æŒ‰ç´¢å¼•ï¼ˆper-indexï¼‰æˆ–å…¨å±€ç¼ºçœï¼ˆglobal defaultï¼‰ã€‚Elasticsearch ä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºä¾æ¬¡å¤„ç†ï¼Œç›´åˆ°å®ƒæ‰¾åˆ°èƒ½å¤Ÿä½¿ç”¨çš„åˆ†æå™¨ã€‚ç´¢å¼•æ—¶çš„é¡ºåºå¦‚ä¸‹ï¼š</p><ul><li>å­—æ®µæ˜ å°„é‡Œå®šä¹‰çš„ analyzer ï¼Œå¦åˆ™</li><li>ç´¢å¼•è®¾ç½®ä¸­åä¸º default çš„åˆ†æå™¨ï¼Œé»˜è®¤ä¸º</li><li>standard æ ‡å‡†åˆ†æå™¨</li></ul><p>åœ¨æœç´¢æ—¶ï¼Œé¡ºåºæœ‰äº›è®¸ä¸åŒï¼š</p><ul><li>æŸ¥è¯¢è‡ªå·±å®šä¹‰çš„ analyzer ï¼Œå¦åˆ™</li><li>å­—æ®µæ˜ å°„é‡Œå®šä¹‰çš„ analyzer ï¼Œå¦åˆ™</li><li>ç´¢å¼•è®¾ç½®ä¸­åä¸º default çš„åˆ†æå™¨ï¼Œé»˜è®¤ä¸º</li><li>standard æ ‡å‡†åˆ†æå™¨</li></ul><p>æœ‰æ—¶ï¼Œåœ¨ç´¢å¼•æ—¶å’Œæœç´¢æ—¶ä½¿ç”¨ä¸åŒçš„åˆ†æå™¨æ˜¯åˆç†çš„ã€‚æˆ‘ä»¬å¯èƒ½è¦æƒ³ä¸ºåŒä¹‰è¯å»ºç´¢å¼•ï¼ˆä¾‹å¦‚ï¼Œæ‰€æœ‰ quick å‡ºç°çš„åœ°æ–¹ï¼ŒåŒæ—¶ä¹Ÿä¸º fast ã€ rapid å’Œ speedy åˆ›å»ºç´¢å¼•ï¼‰ã€‚ä½†åœ¨æœç´¢æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦æœç´¢æ‰€æœ‰çš„åŒä¹‰è¯ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å¯»æ‰¾ç”¨æˆ·è¾“å…¥çš„å•è¯æ˜¯å¦æ˜¯ quick ã€ fast ã€ rapid æˆ– speedy ã€‚</p><p>ä¸ºäº†åŒºåˆ†ï¼ŒElasticsearch ä¹Ÿæ”¯æŒä¸€ä¸ªå¯é€‰çš„ <code>search_analyzer</code> æ˜ å°„ï¼Œå®ƒä»…ä¼šåº”ç”¨äºæœç´¢æ—¶ï¼ˆ <code>analyzer</code> è¿˜ç”¨äºç´¢å¼•æ—¶ï¼‰ã€‚è¿˜æœ‰ä¸€ä¸ªç­‰ä»·çš„ <code>default_search</code> æ˜ å°„ï¼Œç”¨ä»¥æŒ‡å®šç´¢å¼•å±‚çš„é»˜è®¤é…ç½®ã€‚</p><p>å¦‚æœè€ƒè™‘åˆ°è¿™äº›é¢å¤–å‚æ•°ï¼Œä¸€ä¸ªæœç´¢æ—¶çš„ å®Œæ•´ é¡ºåºä¼šæ˜¯ä¸‹é¢è¿™æ ·ï¼š</p><p>æŸ¥è¯¢è‡ªå·±å®šä¹‰çš„ <code>analyzer</code> ï¼Œå¦åˆ™<br>å­—æ®µæ˜ å°„é‡Œå®šä¹‰çš„ <code>search_analyzer</code> ï¼Œå¦åˆ™<br>å­—æ®µæ˜ å°„é‡Œå®šä¹‰çš„ <code>analyzer</code> ï¼Œå¦åˆ™<br>ç´¢å¼•è®¾ç½®ä¸­åä¸º <code>default_search</code> çš„åˆ†æå™¨ï¼Œé»˜è®¤ä¸º<br>ç´¢å¼•è®¾ç½®ä¸­åä¸º <code>default</code> çš„åˆ†æå™¨ï¼Œé»˜è®¤ä¸º<code>standard</code> æ ‡å‡†åˆ†æå™¨</p><h2 id="ä¿æŒç®€å•"><a href="#ä¿æŒç®€å•" class="headerlink" title="ä¿æŒç®€å•"></a>ä¿æŒç®€å•</h2><p>å¤šæ•°æƒ…å†µä¸‹ï¼Œä¼šæå‰çŸ¥é“æ–‡æ¡£ä¼šåŒ…æ‹¬å“ªäº›å­—æ®µã€‚æœ€ç®€å•çš„é€”å¾„å°±æ˜¯åœ¨åˆ›å»ºç´¢å¼•æˆ–è€…å¢åŠ ç±»å‹æ˜ å°„æ—¶ï¼Œä¸ºæ¯ä¸ªå…¨æ–‡å­—æ®µè®¾ç½®åˆ†æå™¨ã€‚è¿™ç§æ–¹å¼å°½ç®¡æœ‰ç‚¹éº»çƒ¦ï¼Œä½†æ˜¯å®ƒè®©æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°æ¯ä¸ªå­—æ®µæ¯ä¸ªåˆ†æå™¨æ˜¯å¦‚ä½•è®¾ç½®çš„ã€‚</p><p>é€šå¸¸ï¼Œå¤šæ•°å­—ç¬¦ä¸²å­—æ®µéƒ½æ˜¯ <code>not_analyzed</code> ç²¾ç¡®å€¼å­—æ®µï¼Œæ¯”å¦‚æ ‡ç­¾ï¼ˆtagï¼‰æˆ–æšä¸¾ï¼ˆenumï¼‰ï¼Œè€Œä¸”æ›´å¤šçš„å…¨æ–‡å­—æ®µä¼šä½¿ç”¨é»˜è®¤çš„ <code>standard</code> åˆ†æå™¨æˆ– <code>english</code> æˆ–å…¶ä»–æŸç§è¯­è¨€çš„åˆ†æå™¨ã€‚è¿™æ ·åªéœ€è¦ä¸ºå°‘æ•°ä¸€ä¸¤ä¸ªå­—æ®µæŒ‡å®šè‡ªå®šä¹‰åˆ†æï¼šæˆ–è®¸æ ‡é¢˜ title å­—æ®µéœ€è¦ä»¥æ”¯æŒ è¾“å…¥å³æŸ¥æ‰¾ï¼ˆfind-as-you-typeï¼‰ çš„æ–¹å¼è¿›è¡Œç´¢å¼•ã€‚</p><p>å¯ä»¥åœ¨ç´¢å¼•çº§åˆ«è®¾ç½®ä¸­ï¼Œä¸ºç»å¤§éƒ¨åˆ†çš„å­—æ®µè®¾ç½®ä½ æƒ³æŒ‡å®šçš„ <code>default</code> é»˜è®¤åˆ†æå™¨ã€‚ç„¶ååœ¨å­—æ®µçº§åˆ«è®¾ç½®ä¸­ï¼Œå¯¹æŸä¸€ä¸¤ä¸ªå­—æ®µé…ç½®éœ€è¦æŒ‡å®šçš„åˆ†æå™¨ã€‚</p><p>ğŸ“’ ğŸ“’ ğŸ“’<br>å¯¹äºå’Œæ—¶é—´ç›¸å…³çš„æ—¥å¿—æ•°æ®ï¼Œé€šå¸¸çš„åšæ³•æ˜¯æ¯å¤©è‡ªè¡Œåˆ›å»ºç´¢å¼•ï¼Œç”±äºè¿™ç§æ–¹å¼ä¸æ˜¯ä»å¤´åˆ›å»ºçš„ç´¢å¼•ï¼Œä»ç„¶å¯ä»¥ç”¨ ç´¢å¼•æ¨¡æ¿ï¼ˆIndex Templateï¼‰ ä¸ºæ–°å»ºçš„ç´¢å¼•æŒ‡å®šé…ç½®å’Œæ˜ å°„ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote><ul><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/_controlling_analysis.html">Elasticsearch: æƒå¨æŒ‡å— Â» æ·±å…¥æœç´¢ Â» å…¨æ–‡æœç´¢ Â» æ§åˆ¶åˆ†æ</a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æµ‹è¯•å¸¸è§åˆ†æå™¨&quot;&gt;&lt;a href=&quot;#æµ‹è¯•å¸¸è§åˆ†æå™¨&quot; class=&quot;headerlink&quot; title=&quot;æµ‹è¯•å¸¸è§åˆ†æå™¨&quot;&gt;&lt;/a&gt;æµ‹è¯•å¸¸è§åˆ†æå™¨&lt;/h2&gt;&lt;p&gt;&lt;code&gt;GET /_analyze&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;high</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="analyzer" scheme="http://example.com/categories/Elasticsearch/analyzer/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>Parameter index out of range (1 &gt; number of parameters, which is 0).</title>
    <link href="http://example.com/wiki/Parameter-index-out-of-range-1-number-of-parameters-which-is-0/"/>
    <id>http://example.com/wiki/Parameter-index-out-of-range-1-number-of-parameters-which-is-0/</id>
    <published>2021-07-06T05:03:16.000Z</published>
    <updated>2021-07-06T05:07:16.862Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜è®°å½•"><a href="#é—®é¢˜è®°å½•" class="headerlink" title="é—®é¢˜è®°å½•"></a>é—®é¢˜è®°å½•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">2021-07-06 12:39:31.179 [http-nio-8081-exec-2] INFO  c.a.otter.canal.client.adapter.es7x.etl.ESEtlService - start etl to import data to index: rd_member</span><br><span class="line">2021-07-06 12:39:31.186 [http-nio-8081-exec-2] ERROR com.alibaba.otter.canal.client.adapter.support.Util - sqlRs has error, sql: SELECT COUNT(1) FROM ( select t.redtom_id as id, t.username, t.nickname, t.avatar, t.status, t.mobile, t.mobile_region_no, t.email, t.gender, t.password,t.salt,t.birthday,t.introduce,t.country,t.region,t.level,t.is_vip,t.follows    ,t.fans,t.likes_num, t.collects_num, t.instagram_account, t.youtube_account, t.facebook_account, t.twitter_account,t.create_ip, t.create_time,t.update_time from rd_member r where t.create_time&gt;=&#x27;&#123;0&#125;&#x27;) _CNT</span><br><span class="line">2021-07-06 12:39:31.188 [http-nio-8081-exec-2] ERROR c.a.otter.canal.client.adapter.es7x.etl.ESEtlService - java.sql.SQLException: Parameter index out of range (1 &gt; number of parameters, which is 0).</span><br><span class="line">java.lang.RuntimeException: java.sql.SQLException: Parameter index out of range (1 &gt; number of parameters, which is 0).</span><br><span class="line">at com.alibaba.otter.canal.client.adapter.support.Util.sqlRS(Util.java:65) ~[client-adapter.common-1.1.5-SNAPSHOT.jar:na]</span><br><span class="line">at com.alibaba.otter.canal.client.adapter.support.AbstractEtlService.importData(AbstractEtlService.java:62) ~[client-adapter.common-1.1.5-SNAPSHOT.jar:na]</span><br><span class="line">at com.alibaba.otter.canal.client.adapter.es7x.etl.ESEtlService.importData(ESEtlService.java:56) [client-adapter.es7x-1.1.5-SNAPSHOT-jar-with-dependencies.jar:na]</span><br><span class="line">at com.alibaba.otter.canal.client.adapter.es7x.ES7xAdapter.etl(ES7xAdapter.java:79) [client-adapter.es7x-1.1.5-SNAPSHOT-jar-with-dependencies.jar:na]</span><br><span class="line">at com.alibaba.otter.canal.adapter.launcher.rest.CommonRest.etl(CommonRest.java:100) [client-adapter.launcher-1.1.5-SNAPSHOT.jar:na]</span><br><span class="line">at com.alibaba.otter.canal.adapter.launcher.rest.CommonRest.etl(CommonRest.java:123) [client-adapter.launcher-1.1.5-SNAPSHOT.jar:na]</span><br><span class="line">at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]</span><br><span class="line">at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]</span><br><span class="line">at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h2><p>æˆ‘æ‰§è¡Œçš„æ“ä½œå¦‚ä¸‹ï¼šğŸ‘‡<br><code>curl http://127.0.0.1:8081/etl/es7/customer.yml -X POST -d &quot;params=2019-08-31 00:00:00&quot;</code></p><p>ä½†æ˜¯æˆ‘çš„ es7/rd_member.ymlçš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p><p><code>etlCondition:&quot;where a.c_time&gt;=&#39;&#123;0&#125;&#39;&quot; # etl çš„æ¡ä»¶å‚æ•°</code></p><p>åº”è¯¥æ”¹æˆï¼š<br><code>etlCondition:&quot;where a.c_time&gt;=&#123;&#125;&quot; # etl çš„æ¡ä»¶å‚æ•°</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;é—®é¢˜è®°å½•&quot;&gt;&lt;a href=&quot;#é—®é¢˜è®°å½•&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜è®°å½•&quot;&gt;&lt;/a&gt;é—®é¢˜è®°å½•&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="é—®é¢˜è®°å½•" scheme="http://example.com/categories/Elasticsearch/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>field name is null or empty</title>
    <link href="http://example.com/wiki/field-name-is-null-or-empty/"/>
    <id>http://example.com/wiki/field-name-is-null-or-empty/</id>
    <published>2021-07-06T04:53:44.000Z</published>
    <updated>2021-07-06T08:28:33.229Z</updated>
    
    <content type="html"><![CDATA[<h2 id="canal-adapter-æŠ¥é”™ä¿¡æ¯"><a href="#canal-adapter-æŠ¥é”™ä¿¡æ¯" class="headerlink" title="canal adapter æŠ¥é”™ä¿¡æ¯"></a>canal adapter æŠ¥é”™ä¿¡æ¯</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">2021-07-06 12:46:31.959 [http-nio-8081-exec-2] INFO  o.a.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet &#x27;dispatcherServlet&#x27;</span><br><span class="line">2021-07-06 12:46:31.959 [http-nio-8081-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet &#x27;dispatcherServlet&#x27;: initialization started</span><br><span class="line">2021-07-06 12:46:31.968 [http-nio-8081-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet &#x27;dispatcherServlet&#x27;: initialization completed in 9 ms</span><br><span class="line">2021-07-06 12:46:31.995 [http-nio-8081-exec-2] INFO  c.a.otter.canal.client.adapter.es7x.etl.ESEtlService - start etl to import data to index: rd_member</span><br><span class="line">2021-07-06 12:46:32.027 [http-nio-8081-exec-2] ERROR c.a.otter.canal.client.adapter.es7x.etl.ESEtlService - field name is null or empty</span><br><span class="line">java.lang.IllegalArgumentException: field name is null or empty</span><br><span class="line">at org.elasticsearch.index.query.BaseTermQueryBuilder.&lt;init&gt;(BaseTermQueryBuilder.java:113) ~[na:na]</span><br><span class="line">at org.elasticsearch.index.query.TermQueryBuilder.&lt;init&gt;(TermQueryBuilder.java:75) ~[na:na]</span><br><span class="line">at org.elasticsearch.index.query.QueryBuilders.termQuery(QueryBuilders.java:202) ~[na:na]</span><br><span class="line">at com.alibaba.otter.canal.client.adapter.es7x.etl.ESEtlService.lambda$executeSqlImport$1(ESEtlService.java:141) ~[na:na]</span><br><span class="line">at com.alibaba.otter.canal.client.adapter.support.Util.sqlRS(Util.java:60) ~[client-adapter.common-1.1.5-SNAPSHOT.jar:na]</span><br><span class="line">at com.alibaba.otter.canal.client.adapter.es7x.etl.ESEtlService.executeSqlImport(ESEtlService.java:64) ~[na:na]</span><br><span class="line">at com.alibaba.otter.canal.client.adapter.support.AbstractEtlService.importData(AbstractEtlService.java:105) ~[client-adapter.common-1.1.5-SNAPSHOT.jar:na]</span><br><span class="line">at com.alibaba.otter.canal.client.adapter.es7x.etl.ESEtlService.importData(ESEtlService.java:56) ~[na:na]</span><br><span class="line">at com.alibaba.otter.canal.client.adapter.es7x.ES7xAdapter.etl(ES7xAdapter.java:79) ~[na:na]</span><br><span class="line">at com.alibaba.otter.canal.adapter.launcher.rest.CommonRest.etl(CommonRest.java:100) ~[client-adapter.launcher-1.1.5-SNAPSHOT.jar:na]</span><br><span class="line">at com.alibaba.otter.canal.adapter.launcher.rest.CommonRest.etl(CommonRest.java:123) ~[client-adapter.launcher-1.1.5-SNAPSHOT.jar:na]</span><br><span class="line">at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]</span><br><span class="line">at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]</span><br><span class="line">at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]</span><br><span class="line">at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]</span><br><span class="line">at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke</span><br></pre></td></tr></table></figure><h2 id="é—®é¢˜æ’æŸ¥"><a href="#é—®é¢˜æ’æŸ¥" class="headerlink" title="é—®é¢˜æ’æŸ¥"></a>é—®é¢˜æ’æŸ¥</h2><p>æ“ä½œæ˜¯å‘æ•°æ®åº“ä¸­æ’å…¥ä¸€æ¡æ•°æ®ï¼Œé€šè¿‡canal-adapteråŒæ­¥åˆ°elasticsearchä¸­ï¼Œæ¥å£å‘ç”Ÿä»¥ä¸Šé”™è¯¯ï¼<br>ç°è±¡æ˜¯canal-adapteræ£€æµ‹åˆ°å’Œmysqlçš„æ•°æ®å˜åŒ–ï¼Œä½†æ˜¯åŒæ­¥åˆ°esçš„æ—¶å€™å‘ç”Ÿäº†é”™è¯¯ï¼›<br>çŒœæƒ³å¤§æ¦‚æ˜¯æŸä¸ªä¸ºç©ºå¯¼è‡´å­˜åˆ°esçš„æ—¶å€™å‘ç”Ÿå¼‚å¸¸ï¼›</p><p>ç„¶åæŸ¥çœ‹es7ä¸‹çš„mappingé…ç½®ï¼š</p><img src="https://oscimg.oschina.net/oscnet/up-93dc9d1f9074d9d44946f2d5c3780dd7e13.png" width=400 height=300><p>å‘ç°æˆ‘çš„sqlæŸ¥idçš„æ—¶å€™å†™é”™äº†ï¼Œåˆ«ååº”è¯¥å†™æˆ_id,å¯¹åº”elasticsearchçš„_id</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;canal-adapter-æŠ¥é”™ä¿¡æ¯&quot;&gt;&lt;a href=&quot;#canal-adapter-æŠ¥é”™ä¿¡æ¯&quot; class=&quot;headerlink&quot; title=&quot;canal adapter æŠ¥é”™ä¿¡æ¯&quot;&gt;&lt;/a&gt;canal adapter æŠ¥é”™ä¿¡æ¯&lt;/h2&gt;&lt;figure c</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="é—®é¢˜è®°å½•" scheme="http://example.com/categories/Elasticsearch/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>elasticsearchæ˜ å°„</title>
    <link href="http://example.com/wiki/elasticsearch%E6%98%A0%E5%B0%84/"/>
    <id>http://example.com/wiki/elasticsearch%E6%98%A0%E5%B0%84/</id>
    <published>2021-07-05T14:54:05.000Z</published>
    <updated>2021-07-06T11:56:41.328Z</updated>
    
    <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>Elasticsearch æ”¯æŒå¦‚ä¸‹ç®€å•åŸŸç±»å‹ï¼š</p><ul><li>å­—ç¬¦ä¸²: string ï¼ˆes7ä¹‹åç¼–ç¨‹textï¼‰</li><li>æ•´æ•° : byte, short, integer, long</li><li>æµ®ç‚¹æ•°: float, double</li><li>å¸ƒå°”å‹: boolean</li><li>æ—¥æœŸ: date</li></ul><h2 id="æŸ¥çœ‹ç´¢å¼•çš„mapping"><a href="#æŸ¥çœ‹ç´¢å¼•çš„mapping" class="headerlink" title="æŸ¥çœ‹ç´¢å¼•çš„mapping"></a>æŸ¥çœ‹ç´¢å¼•çš„mapping</h2><p><code>GET /gb/_mapping/tweet</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">&quot;gb&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;mappings&quot;</span>: &#123;</span><br><span class="line">         <span class="attr">&quot;tweet&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;properties&quot;</span>: &#123;</span><br><span class="line">               <span class="attr">&quot;date&quot;</span>: &#123;</span><br><span class="line">                  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;date&quot;</span>,</span><br><span class="line">                  <span class="attr">&quot;format&quot;</span>: <span class="string">&quot;strict_date_optional_time||epoch_millis&quot;</span></span><br><span class="line">               &#125;,</span><br><span class="line">               <span class="attr">&quot;name&quot;</span>: &#123;</span><br><span class="line">                  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">               &#125;,</span><br><span class="line">               <span class="attr">&quot;tweet&quot;</span>: &#123;</span><br><span class="line">                  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">               &#125;,</span><br><span class="line">               <span class="attr">&quot;user_id&quot;</span>: &#123;</span><br><span class="line">                  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;long&quot;</span></span><br><span class="line">               &#125;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰åŸŸæ˜ å°„"><a href="#è‡ªå®šä¹‰åŸŸæ˜ å°„" class="headerlink" title="è‡ªå®šä¹‰åŸŸæ˜ å°„"></a>è‡ªå®šä¹‰åŸŸæ˜ å°„</h2><p>å°½ç®¡åœ¨å¾ˆå¤šæƒ…å†µä¸‹åŸºæœ¬åŸŸæ•°æ®ç±»å‹å·²ç»å¤Ÿç”¨ï¼Œä½†ä½ ç»å¸¸éœ€è¦ä¸ºå•ç‹¬åŸŸè‡ªå®šä¹‰æ˜ å°„ï¼Œç‰¹åˆ«æ˜¯å­—ç¬¦ä¸²åŸŸã€‚è‡ªå®šä¹‰æ˜ å°„å…è®¸ä½ æ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼š</p><ul><li>å…¨æ–‡å­—ç¬¦ä¸²åŸŸå’Œç²¾ç¡®å€¼å­—ç¬¦ä¸²åŸŸçš„åŒºåˆ«</li><li>ä½¿ç”¨ç‰¹å®šè¯­è¨€åˆ†æå™¨</li><li>ä¼˜åŒ–åŸŸä»¥é€‚åº”éƒ¨åˆ†åŒ¹é…</li><li>æŒ‡å®šè‡ªå®šä¹‰æ•°æ®æ ¼å¼</li><li>è¿˜æœ‰æ›´å¤š</li></ul><p>åŸŸæœ€é‡è¦çš„å±æ€§æ˜¯ <code>type</code> ã€‚å¯¹äºä¸æ˜¯ string çš„åŸŸï¼Œä½ ä¸€èˆ¬åªéœ€è¦è®¾ç½® type ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;number_of_clicks&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;integer&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»˜è®¤ï¼Œ <code>string</code> (text) ç±»å‹åŸŸä¼šè¢«è®¤ä¸ºåŒ…å«å…¨æ–‡ã€‚å°±æ˜¯è¯´ï¼Œå®ƒä»¬çš„å€¼åœ¨ç´¢å¼•å‰ï¼Œä¼šé€šè¿‡ä¸€ä¸ªåˆ†æå™¨ï¼Œé’ˆå¯¹äºè¿™ä¸ªåŸŸçš„æŸ¥è¯¢åœ¨æœç´¢å‰ä¹Ÿä¼šç»è¿‡ä¸€ä¸ªåˆ†æå™¨ã€‚</p><p>string åŸŸæ˜ å°„çš„ä¸¤ä¸ªæœ€é‡è¦å±æ€§æ˜¯ <code>index</code> å’Œ <code>analyzer</code> ã€‚</p><h3 id="index"><a href="#index" class="headerlink" title="index"></a>index</h3><p>index å±æ€§æ§åˆ¶æ€æ ·ç´¢å¼•å­—ç¬¦ä¸²ã€‚å®ƒå¯ä»¥æ˜¯ä¸‹é¢ä¸‰ä¸ªå€¼ï¼š</p><h4 id="analyzed"><a href="#analyzed" class="headerlink" title="analyzed"></a>analyzed</h4><p>é¦–å…ˆåˆ†æå­—ç¬¦ä¸²ï¼Œç„¶åç´¢å¼•å®ƒã€‚æ¢å¥è¯è¯´ï¼Œä»¥å…¨æ–‡ç´¢å¼•è¿™ä¸ªåŸŸã€‚</p><h4 id="not-analyzed"><a href="#not-analyzed" class="headerlink" title="not_analyzed"></a>not_analyzed</h4><p>  ç´¢å¼•è¿™ä¸ªåŸŸï¼Œæ‰€ä»¥å®ƒèƒ½å¤Ÿè¢«æœç´¢ï¼Œä½†ç´¢å¼•çš„æ˜¯ç²¾ç¡®å€¼ã€‚ä¸ä¼šå¯¹å®ƒè¿›è¡Œåˆ†æã€‚</p><h4 id="no"><a href="#no" class="headerlink" title="no"></a>no</h4><p>ä¸ç´¢å¼•è¿™ä¸ªåŸŸã€‚è¿™ä¸ªåŸŸä¸ä¼šè¢«æœç´¢åˆ°ã€‚ (æ¯”å¦‚ä¸€äº›éšç§ä¿¡æ¯)</p><p>string åŸŸ index å±æ€§é»˜è®¤æ˜¯ <code>analyzed</code> ã€‚å¦‚æœæˆ‘ä»¬æƒ³æ˜ å°„è¿™ä¸ªå­—æ®µä¸ºä¸€ä¸ªç²¾ç¡®å€¼ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®å®ƒä¸º not_analyzed ï¼š</p><p>âš ï¸ âš ï¸<br>å…¶ä»–ç®€å•ç±»å‹ï¼ˆä¾‹å¦‚ long ï¼Œ double ï¼Œ date ç­‰ï¼‰ä¹Ÿæ¥å— index å‚æ•°ï¼Œä½†æœ‰æ„ä¹‰çš„å€¼åªæœ‰ no å’Œ not_analyzed ï¼Œ å› ä¸ºå®ƒä»¬æ°¸è¿œä¸ä¼šè¢«åˆ†æã€‚  </p><h3 id="analyzer"><a href="#analyzer" class="headerlink" title="analyzer"></a>analyzer</h3><p>å¯¹äº <code>analyzed</code> å­—ç¬¦ä¸²åŸŸï¼Œç”¨ <code>analyzer</code> å±æ€§æŒ‡å®šåœ¨æœç´¢å’Œç´¢å¼•æ—¶ä½¿ç”¨çš„åˆ†æå™¨ã€‚é»˜è®¤ï¼Œ Elasticsearch ä½¿ç”¨ <code>standard</code> åˆ†æå™¨ï¼Œ ä½†ä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªå†…ç½®çš„åˆ†æå™¨æ›¿ä»£å®ƒï¼Œä¾‹å¦‚ <code>whitespace</code> ã€ <code>simple</code> å’Œ <code>english</code>;</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;tweet&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;type&quot;</span>:     <span class="string">&quot;string&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;analyzer&quot;</span>: <span class="string">&quot;english&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ›´æ–°æ˜ å°„"><a href="#æ›´æ–°æ˜ å°„" class="headerlink" title="æ›´æ–°æ˜ å°„"></a>æ›´æ–°æ˜ å°„</h2><p>å½“ä½ é¦–æ¬¡åˆ›å»ºä¸€ä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šç±»å‹çš„æ˜ å°„ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ /_mapping ä¸ºæ–°ç±»å‹ï¼ˆæˆ–è€…ä¸ºå­˜åœ¨çš„ç±»å‹æ›´æ–°æ˜ å°„ï¼‰å¢åŠ æ˜ å°„ã€‚<br>âš ï¸ âš ï¸<br>å°½ç®¡ä½ å¯ä»¥ å¢åŠ  ä¸€ä¸ªå­˜åœ¨çš„æ˜ å°„ï¼Œä½ ä¸èƒ½ ä¿®æ”¹ å­˜åœ¨çš„åŸŸæ˜ å°„ã€‚å¦‚æœä¸€ä¸ªåŸŸçš„æ˜ å°„å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆè¯¥åŸŸçš„æ•°æ®å¯èƒ½å·²ç»è¢«ç´¢å¼•ã€‚å¦‚æœä½ æ„å›¾ä¿®æ”¹è¿™ä¸ªåŸŸçš„æ˜ å°„ï¼Œç´¢å¼•çš„æ•°æ®å¯èƒ½ä¼šå‡ºé”™ï¼Œä¸èƒ½è¢«æ­£å¸¸çš„æœç´¢ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ›´æ–°ä¸€ä¸ªæ˜ å°„æ¥æ·»åŠ ä¸€ä¸ªæ–°åŸŸï¼Œä½†ä¸èƒ½å°†ä¸€ä¸ªå­˜åœ¨çš„åŸŸä» analyzed æ”¹ä¸º not_analyzed ã€‚</p><p>ä¸ºäº†æè¿°æŒ‡å®šæ˜ å°„çš„ä¸¤ç§æ–¹å¼ï¼Œæˆ‘ä»¬å…ˆåˆ é™¤ gd ç´¢å¼•ï¼š<br><code>DELETE /gb</code><br>ç„¶ååˆ›å»ºä¸€ä¸ªæ–°ç´¢å¼•ï¼ŒæŒ‡å®š tweet åŸŸä½¿ç”¨ english åˆ†æå™¨ï¼š  </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">PUT /gb </span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;mappings&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;tweet&quot;</span> : &#123;</span><br><span class="line">      <span class="attr">&quot;properties&quot;</span> : &#123;</span><br><span class="line">        <span class="attr">&quot;tweet&quot;</span> : &#123;</span><br><span class="line">          <span class="attr">&quot;type&quot;</span> :    <span class="string">&quot;string&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;analyzer&quot;</span>: <span class="string">&quot;english&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;date&quot;</span> : &#123;</span><br><span class="line">          <span class="attr">&quot;type&quot;</span> :   <span class="string">&quot;date&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;name&quot;</span> : &#123;</span><br><span class="line">          <span class="attr">&quot;type&quot;</span> :   <span class="string">&quot;string&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;user_id&quot;</span> : &#123;</span><br><span class="line">          <span class="attr">&quot;type&quot;</span> :   <span class="string">&quot;long&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¨åï¼Œæˆ‘ä»¬å†³å®šåœ¨ tweet æ˜ å°„å¢åŠ ä¸€ä¸ªæ–°çš„åä¸º tag çš„ not_analyzed çš„æ–‡æœ¬åŸŸï¼Œä½¿ç”¨ _mapping ï¼š  </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">PUT /gb/_mapping/tweet</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;properties&quot;</span> : &#123;</span><br><span class="line">    <span class="attr">&quot;tag&quot;</span> : &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span> :    <span class="string">&quot;string&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;index&quot;</span>:    <span class="string">&quot;not_analyzed&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†æ¬¡åˆ—å‡ºæ‰€æœ‰å·²å­˜åœ¨çš„åŸŸï¼Œå› ä¸ºæ— è®ºå¦‚ä½•æˆ‘ä»¬éƒ½æ— æ³•æ”¹å˜å®ƒä»¬ã€‚æ–°åŸŸå·²ç»è¢«åˆå¹¶åˆ°å­˜åœ¨çš„æ˜ å°„ä¸­</p><h2 id="æµ‹è¯•æ˜ å°„"><a href="#æµ‹è¯•æ˜ å°„" class="headerlink" title="æµ‹è¯•æ˜ å°„"></a>æµ‹è¯•æ˜ å°„</h2><p>ä½ å¯ä»¥ä½¿ç”¨ analyze API æµ‹è¯•å­—ç¬¦ä¸²åŸŸçš„æ˜ å°„ã€‚æ¯”è¾ƒä¸‹é¢ä¸¤ä¸ªè¯·æ±‚çš„è¾“å‡ºï¼š  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET /gb/_analyze</span><br><span class="line">&#123;</span><br><span class="line">  &quot;field&quot;: &quot;tweet&quot;,</span><br><span class="line">  &quot;text&quot;: &quot;Black-cats&quot; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">GET /gb/_analyze</span><br><span class="line">&#123;</span><br><span class="line">  &quot;field&quot;: &quot;tag&quot;,</span><br><span class="line">  &quot;text&quot;: &quot;Black-cats&quot; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>tweet åŸŸäº§ç”Ÿä¸¤ä¸ªè¯æ¡ black å’Œ cat ï¼Œ tag åŸŸäº§ç”Ÿå•ç‹¬çš„è¯æ¡ Black-cats ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬çš„æ˜ å°„æ­£å¸¸å·¥ä½œã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote><ul><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/mapping-intro.html">Elasticsearchæƒå¨æŒ‡å—</a></li><li><a href=""></a></li></ul></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;&quot;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Elasticsearch æ”¯æŒå¦‚ä¸‹ç®€å•åŸŸç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­—ç¬¦ä¸²: string ï¼ˆes7ä¹‹åç¼–ç¨‹textï¼‰&lt;/li&gt;
&lt;li&gt;æ•´æ•° : </summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="mapping" scheme="http://example.com/categories/Elasticsearch/mapping/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>åˆ†æä¸åˆ†æå™¨</title>
    <link href="http://example.com/wiki/%E5%88%86%E6%9E%90%E4%B8%8E%E5%88%86%E6%9E%90%E5%99%A8/"/>
    <id>http://example.com/wiki/%E5%88%86%E6%9E%90%E4%B8%8E%E5%88%86%E6%9E%90%E5%99%A8/</id>
    <published>2021-07-05T14:43:44.000Z</published>
    <updated>2021-07-06T11:40:41.409Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>åŒ…å«ä¸‹é¢çš„è¿‡ç¨‹ï¼š</p><p>é¦–å…ˆï¼Œå°†ä¸€å—æ–‡æœ¬åˆ†æˆé€‚åˆäºå€’æ’ç´¢å¼•çš„ç‹¬ç«‹çš„ <code>è¯æ¡</code> ï¼Œä¹‹åï¼Œå°†è¿™äº›è¯æ¡ç»Ÿä¸€åŒ–ä¸ºæ ‡å‡†æ ¼å¼ä»¥æé«˜å®ƒä»¬çš„â€œå¯æœç´¢æ€§â€ï¼Œæˆ–è€… recall<br>åˆ†æå™¨æ‰§è¡Œä¸Šé¢çš„å·¥ä½œã€‚ åˆ†æå™¨ å®é™…ä¸Šæ˜¯å°†ä¸‰ä¸ªåŠŸèƒ½å°è£…åˆ°äº†ä¸€ä¸ªåŒ…é‡Œï¼š</p><h3 id="å­—ç¬¦è¿‡æ»¤å™¨"><a href="#å­—ç¬¦è¿‡æ»¤å™¨" class="headerlink" title="å­—ç¬¦è¿‡æ»¤å™¨"></a>å­—ç¬¦è¿‡æ»¤å™¨</h3><p>é¦–å…ˆï¼Œå­—ç¬¦ä¸²æŒ‰é¡ºåºé€šè¿‡æ¯ä¸ª å­—ç¬¦è¿‡æ»¤å™¨ ã€‚ä»–ä»¬çš„ä»»åŠ¡æ˜¯åœ¨åˆ†è¯å‰æ•´ç†å­—ç¬¦ä¸²ã€‚ä¸€ä¸ªå­—ç¬¦è¿‡æ»¤å™¨å¯ä»¥ç”¨æ¥å»æ‰HTMLï¼Œæˆ–è€…å°† &amp; è½¬åŒ–æˆ andã€‚</p><h3 id="åˆ†è¯å™¨"><a href="#åˆ†è¯å™¨" class="headerlink" title="åˆ†è¯å™¨"></a>åˆ†è¯å™¨</h3><p>å…¶æ¬¡ï¼Œå­—ç¬¦ä¸²è¢« åˆ†è¯å™¨ åˆ†ä¸ºå•ä¸ªçš„è¯æ¡ã€‚ä¸€ä¸ªç®€å•çš„åˆ†è¯å™¨é‡åˆ°ç©ºæ ¼å’Œæ ‡ç‚¹çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå°†æ–‡æœ¬æ‹†åˆ†æˆè¯æ¡ã€‚</p><h3 id="Token-è¿‡æ»¤å™¨"><a href="#Token-è¿‡æ»¤å™¨" class="headerlink" title="Token è¿‡æ»¤å™¨"></a>Token è¿‡æ»¤å™¨</h3><p>æœ€åï¼Œè¯æ¡æŒ‰é¡ºåºé€šè¿‡æ¯ä¸ª token è¿‡æ»¤å™¨ ã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šæ”¹å˜è¯æ¡ï¼ˆä¾‹å¦‚ï¼Œå°å†™åŒ– Quick ï¼‰ï¼Œåˆ é™¤è¯æ¡ï¼ˆä¾‹å¦‚ï¼Œ åƒ aï¼Œ andï¼Œ the ç­‰æ— ç”¨è¯ï¼‰ï¼Œæˆ–è€…å¢åŠ è¯æ¡ï¼ˆä¾‹å¦‚ï¼Œåƒ jump å’Œ leap è¿™ç§åŒä¹‰è¯ï¼‰ã€‚<br>Elasticsearchæä¾›äº†å¼€ç®±å³ç”¨çš„å­—ç¬¦è¿‡æ»¤å™¨ã€åˆ†è¯å™¨å’Œtoken è¿‡æ»¤å™¨ã€‚ è¿™äº›å¯ä»¥ç»„åˆèµ·æ¥å½¢æˆè‡ªå®šä¹‰çš„åˆ†æå™¨ä»¥ç”¨äºä¸åŒçš„ç›®çš„ã€‚</p><h2 id="å†…ç½®åˆ†æå™¨"><a href="#å†…ç½®åˆ†æå™¨" class="headerlink" title="å†…ç½®åˆ†æå™¨"></a>å†…ç½®åˆ†æå™¨</h2><p>ä½†æ˜¯ï¼Œ Elasticsearchè¿˜é™„å¸¦äº†å¯ä»¥ç›´æ¥ä½¿ç”¨çš„é¢„åŒ…è£…çš„åˆ†æå™¨ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šåˆ—å‡ºæœ€é‡è¦çš„åˆ†æå™¨ã€‚ä¸ºäº†è¯æ˜å®ƒä»¬çš„å·®å¼‚ï¼Œæˆ‘ä»¬çœ‹çœ‹æ¯ä¸ªåˆ†æå™¨ä¼šä»ä¸‹é¢çš„å­—ç¬¦ä¸²å¾—åˆ°å“ªäº›è¯æ¡ï¼š<br><code>&quot;Set the shape to semi-transparent by calling set_trans(5)&quot;</code></p><h3 id="æ ‡å‡†åˆ†æå™¨"><a href="#æ ‡å‡†åˆ†æå™¨" class="headerlink" title="æ ‡å‡†åˆ†æå™¨"></a>æ ‡å‡†åˆ†æå™¨</h3><p>æ ‡å‡†åˆ†æå™¨æ˜¯Elasticsearché»˜è®¤ä½¿ç”¨çš„åˆ†æå™¨ã€‚å®ƒæ˜¯åˆ†æå„ç§è¯­è¨€æ–‡æœ¬æœ€å¸¸ç”¨çš„é€‰æ‹©ã€‚å®ƒæ ¹æ® Unicode è”ç›Ÿ å®šä¹‰çš„ å•è¯è¾¹ç•Œ åˆ’åˆ†æ–‡æœ¬ã€‚åˆ é™¤ç»å¤§éƒ¨åˆ†æ ‡ç‚¹ã€‚æœ€åï¼Œå°†è¯æ¡å°å†™ã€‚å®ƒä¼šäº§ç”Ÿ<br><code>set, the, shape, to, semi, transparent, by, calling, set_trans, 5</code></p><h3 id="ç®€å•åˆ†æå™¨"><a href="#ç®€å•åˆ†æå™¨" class="headerlink" title="ç®€å•åˆ†æå™¨"></a>ç®€å•åˆ†æå™¨</h3><p>ç®€å•åˆ†æå™¨åœ¨ä»»ä½•ä¸æ˜¯å­—æ¯çš„åœ°æ–¹åˆ†éš”æ–‡æœ¬ï¼Œå°†è¯æ¡å°å†™ã€‚å®ƒä¼šäº§ç”Ÿ<br><code>set, the, shape, to, semi, transparent, by, calling, set, trans</code></p><h3 id="ç©ºæ ¼åˆ†æå™¨"><a href="#ç©ºæ ¼åˆ†æå™¨" class="headerlink" title="ç©ºæ ¼åˆ†æå™¨"></a>ç©ºæ ¼åˆ†æå™¨</h3><p>ç©ºæ ¼åˆ†æå™¨åœ¨ç©ºæ ¼çš„åœ°æ–¹åˆ’åˆ†æ–‡æœ¬ã€‚å®ƒä¼šäº§ç”Ÿ<br><code>Set, the, shape, to, semi-transparent, by, calling, set_trans(5)</code></p><h3 id="è¯­è¨€åˆ†æå™¨"><a href="#è¯­è¨€åˆ†æå™¨" class="headerlink" title="è¯­è¨€åˆ†æå™¨"></a>è¯­è¨€åˆ†æå™¨</h3><p>ç‰¹å®šè¯­è¨€åˆ†æå™¨å¯ç”¨äº å¾ˆå¤šè¯­è¨€ã€‚å®ƒä»¬å¯ä»¥è€ƒè™‘æŒ‡å®šè¯­è¨€çš„ç‰¹ç‚¹ã€‚ä¾‹å¦‚ï¼Œ è‹±è¯­ åˆ†æå™¨é™„å¸¦äº†ä¸€ç»„è‹±è¯­æ— ç”¨è¯ï¼ˆå¸¸ç”¨å•è¯ï¼Œä¾‹å¦‚ and æˆ–è€… the ï¼Œå®ƒä»¬å¯¹ç›¸å…³æ€§æ²¡æœ‰å¤šå°‘å½±å“ï¼‰ï¼Œå®ƒä»¬ä¼šè¢«åˆ é™¤ã€‚ ç”±äºç†è§£è‹±è¯­è¯­æ³•çš„è§„åˆ™ï¼Œè¿™ä¸ªåˆ†è¯å™¨å¯ä»¥æå–è‹±è¯­å•è¯çš„ è¯å¹² ã€‚</p><h3 id="è‹±è¯­-åˆ†è¯å™¨ä¼šäº§ç”Ÿä¸‹é¢çš„è¯æ¡ï¼š"><a href="#è‹±è¯­-åˆ†è¯å™¨ä¼šäº§ç”Ÿä¸‹é¢çš„è¯æ¡ï¼š" class="headerlink" title="è‹±è¯­ åˆ†è¯å™¨ä¼šäº§ç”Ÿä¸‹é¢çš„è¯æ¡ï¼š"></a>è‹±è¯­ åˆ†è¯å™¨ä¼šäº§ç”Ÿä¸‹é¢çš„è¯æ¡ï¼š</h3><p><code>set, shape, semi, transpar, call, set_tran, 5</code><br>æ³¨æ„çœ‹ <code>transparentã€</code> <code>calling</code> å’Œ <code>set_trans</code> å·²ç»å˜ä¸ºè¯æ ¹æ ¼å¼ã€‚</p><h2 id="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨åˆ†æå™¨"><a href="#ä»€ä¹ˆæ—¶å€™ä½¿ç”¨åˆ†æå™¨" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨åˆ†æå™¨"></a>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨åˆ†æå™¨</h2><p>å½“æˆ‘ä»¬ <code>ç´¢å¼•</code> ä¸€ä¸ªæ–‡æ¡£ï¼Œå®ƒçš„å…¨æ–‡åŸŸè¢«åˆ†ææˆè¯æ¡ä»¥ç”¨æ¥åˆ›å»ºå€’æ’ç´¢å¼•ã€‚ ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬åœ¨å…¨æ–‡åŸŸ æœç´¢ çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å°†æŸ¥è¯¢å­—ç¬¦ä¸²é€šè¿‡ ç›¸åŒçš„åˆ†æè¿‡ç¨‹ ï¼Œä»¥ä¿è¯æˆ‘ä»¬æœç´¢çš„è¯æ¡æ ¼å¼ä¸ç´¢å¼•ä¸­çš„è¯æ¡æ ¼å¼ä¸€è‡´ã€‚</p><p>å…¨æ–‡æŸ¥è¯¢ï¼Œç†è§£æ¯ä¸ªåŸŸæ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥åšæ­£ç¡®çš„äº‹ï¼š</p><p>å½“ä½ æŸ¥è¯¢ä¸€ä¸ª <code>å…¨æ–‡</code> åŸŸæ—¶ï¼Œ ä¼šå¯¹æŸ¥è¯¢å­—ç¬¦ä¸²åº”ç”¨ç›¸åŒçš„åˆ†æå™¨ï¼Œä»¥äº§ç”Ÿæ­£ç¡®çš„æœç´¢è¯æ¡åˆ—è¡¨ã€‚<br>å½“ä½ æŸ¥è¯¢ä¸€ä¸ª <code>ç²¾ç¡®å€¼</code> åŸŸæ—¶ï¼Œä¸ä¼šåˆ†ææŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯æœç´¢ä½ æŒ‡å®šçš„ç²¾ç¡®å€¼ã€‚</p><h2 id="æµ‹è¯•åˆ†æå™¨"><a href="#æµ‹è¯•åˆ†æå™¨" class="headerlink" title="æµ‹è¯•åˆ†æå™¨"></a>æµ‹è¯•åˆ†æå™¨</h2><p>æœ‰äº›æ—¶å€™å¾ˆéš¾ç†è§£åˆ†è¯çš„è¿‡ç¨‹å’Œå®é™…è¢«å­˜å‚¨åˆ°ç´¢å¼•ä¸­çš„è¯æ¡ï¼Œç‰¹åˆ«æ˜¯ä½ åˆšæ¥è§¦Elasticsearchã€‚ä¸ºäº†ç†è§£å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>analyze API</code> æ¥çœ‹æ–‡æœ¬æ˜¯å¦‚ä½•è¢«åˆ†æçš„ã€‚åœ¨æ¶ˆæ¯ä½“é‡Œï¼ŒæŒ‡å®šåˆ†æå™¨å’Œè¦åˆ†æçš„æ–‡æœ¬ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GET /_analyze</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;analyzer&quot;</span>: <span class="string">&quot;standard&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;text&quot;</span>: <span class="string">&quot;Text to analyze&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœä¸­æ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€ä¸ªå•ç‹¬çš„è¯æ¡ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">&quot;tokens&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="attr">&quot;token&quot;</span>:        <span class="string">&quot;text&quot;</span>,</span><br><span class="line">         <span class="attr">&quot;start_offset&quot;</span>: <span class="number">0</span>,</span><br><span class="line">         <span class="attr">&quot;end_offset&quot;</span>:   <span class="number">4</span>,</span><br><span class="line">         <span class="attr">&quot;type&quot;</span>:         <span class="string">&quot;&lt;ALPHANUM&gt;&quot;</span>,</span><br><span class="line">         <span class="attr">&quot;position&quot;</span>:     <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="attr">&quot;token&quot;</span>:        <span class="string">&quot;to&quot;</span>,</span><br><span class="line">         <span class="attr">&quot;start_offset&quot;</span>: <span class="number">5</span>,</span><br><span class="line">         <span class="attr">&quot;end_offset&quot;</span>:   <span class="number">7</span>,</span><br><span class="line">         <span class="attr">&quot;type&quot;</span>:         <span class="string">&quot;&lt;ALPHANUM&gt;&quot;</span>,</span><br><span class="line">         <span class="attr">&quot;position&quot;</span>:     <span class="number">2</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="attr">&quot;token&quot;</span>:        <span class="string">&quot;analyze&quot;</span>,</span><br><span class="line">         <span class="attr">&quot;start_offset&quot;</span>: <span class="number">8</span>,</span><br><span class="line">         <span class="attr">&quot;end_offset&quot;</span>:   <span class="number">15</span>,</span><br><span class="line">         <span class="attr">&quot;type&quot;</span>:         <span class="string">&quot;&lt;ALPHANUM&gt;&quot;</span>,</span><br><span class="line">         <span class="attr">&quot;position&quot;</span>:     <span class="number">3</span></span><br><span class="line">      &#125;</span><br><span class="line">   ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>token</code> æ˜¯å®é™…å­˜å‚¨åˆ°ç´¢å¼•ä¸­çš„è¯æ¡ã€‚ <code>position</code> æŒ‡æ˜è¯æ¡åœ¨åŸå§‹æ–‡æœ¬ä¸­å‡ºç°çš„ä½ç½®ã€‚ <code>start_offset</code> å’Œ <code>end_offset</code> æŒ‡æ˜å­—ç¬¦åœ¨åŸå§‹å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ã€‚</p><p>æ¯ä¸ªåˆ†æå™¨çš„ <code>type</code> å€¼éƒ½ä¸ä¸€æ ·ï¼Œå¯ä»¥å¿½ç•¥å®ƒä»¬ã€‚å®ƒä»¬åœ¨Elasticsearchä¸­çš„å”¯ä¸€ä½œç”¨åœ¨äºâ€‹keep_types token è¿‡æ»¤å™¨â€‹ã€‚</p><p>analyze API æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å·¥å…·ï¼Œå®ƒæœ‰åŠ©äºæˆ‘ä»¬ç†è§£Elasticsearchç´¢å¼•å†…éƒ¨å‘ç”Ÿäº†ä»€ä¹ˆï¼Œéšç€æ·±å…¥ï¼Œæˆ‘ä»¬ä¼šè¿›ä¸€æ­¥è®¨è®ºå®ƒã€‚</p><h2 id="æŒ‡å®šåˆ†æå™¨"><a href="#æŒ‡å®šåˆ†æå™¨" class="headerlink" title="æŒ‡å®šåˆ†æå™¨"></a>æŒ‡å®šåˆ†æå™¨</h2><p>å½“Elasticsearchåœ¨ä½ çš„æ–‡æ¡£ä¸­æ£€æµ‹åˆ°ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²åŸŸï¼Œå®ƒä¼šè‡ªåŠ¨è®¾ç½®å…¶ä¸ºä¸€ä¸ªå…¨æ–‡ <code>å­—ç¬¦ä¸²</code> åŸŸï¼Œä½¿ç”¨ <code>æ ‡å‡†</code> åˆ†æå™¨å¯¹å®ƒè¿›è¡Œåˆ†æã€‚</p><p>ä½ ä¸å¸Œæœ›æ€»æ˜¯è¿™æ ·ã€‚å¯èƒ½ä½ æƒ³ä½¿ç”¨ä¸€ä¸ªä¸åŒçš„åˆ†æå™¨ï¼Œé€‚ç”¨äºä½ çš„æ•°æ®ä½¿ç”¨çš„è¯­è¨€ã€‚æœ‰æ—¶å€™ä½ æƒ³è¦ä¸€ä¸ªå­—ç¬¦ä¸²åŸŸå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åŸŸâ€”â€‹ä¸ä½¿ç”¨åˆ†æï¼Œç›´æ¥ç´¢å¼•ä½ ä¼ å…¥çš„ç²¾ç¡®å€¼ï¼Œä¾‹å¦‚ç”¨æˆ·IDæˆ–è€…ä¸€ä¸ªå†…éƒ¨çš„çŠ¶æ€åŸŸæˆ–æ ‡ç­¾ã€‚</p><p>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨æŒ‡å®šè¿™äº›åŸŸçš„æ˜ å°„ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;åˆ†æ&quot;&gt;&lt;a href=&quot;#åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;åˆ†æ&quot;&gt;&lt;/a&gt;åˆ†æ&lt;/h2&gt;&lt;p&gt;åŒ…å«ä¸‹é¢çš„è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œå°†ä¸€å—æ–‡æœ¬åˆ†æˆé€‚åˆäºå€’æ’ç´¢å¼•çš„ç‹¬ç«‹çš„ &lt;code&gt;è¯æ¡&lt;/code&gt; ï¼Œä¹‹åï¼Œå°†è¿™äº›è¯æ¡ç»Ÿä¸€åŒ–ä¸ºæ ‡å‡†æ ¼</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="analyzer" scheme="http://example.com/categories/Elasticsearch/analyzer/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>å€’æ’ç´¢å¼•</title>
    <link href="http://example.com/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95/"/>
    <id>http://example.com/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95/</id>
    <published>2021-07-05T14:17:00.000Z</published>
    <updated>2021-07-05T14:30:57.743Z</updated>
    
    <content type="html"><![CDATA[<p>Elasticsearch ä½¿ç”¨ä¸€ç§ç§°ä¸º å€’æ’ç´¢å¼• çš„ç»“æ„ï¼Œå®ƒé€‚ç”¨äºå¿«é€Ÿçš„å…¨æ–‡æœç´¢ã€‚ä¸€ä¸ªå€’æ’ç´¢å¼•ç”±æ–‡æ¡£ä¸­æ‰€æœ‰ä¸é‡å¤è¯çš„åˆ—è¡¨æ„æˆï¼Œå¯¹äºå…¶ä¸­æ¯ä¸ªè¯ï¼Œæœ‰ä¸€ä¸ªåŒ…å«å®ƒçš„æ–‡æ¡£åˆ—è¡¨ã€‚  </p><p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªæ–‡æ¡£ï¼Œæ¯ä¸ªæ–‡æ¡£çš„ content åŸŸåŒ…å«å¦‚ä¸‹å†…å®¹ï¼š  </p><p>The quick brown fox jumped over the lazy dog<br>Quick brown foxes leap over lazy dogs in summer<br>ä¸ºäº†åˆ›å»ºå€’æ’ç´¢å¼•ï¼Œæˆ‘ä»¬é¦–å…ˆå°†æ¯ä¸ªæ–‡æ¡£çš„ content åŸŸæ‹†åˆ†æˆå•ç‹¬çš„ è¯ï¼ˆæˆ‘ä»¬ç§°å®ƒä¸º è¯æ¡ æˆ– tokens ï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰ä¸é‡å¤è¯æ¡çš„æ’åºåˆ—è¡¨ï¼Œç„¶ååˆ—å‡ºæ¯ä¸ªè¯æ¡å‡ºç°åœ¨å“ªä¸ªæ–‡æ¡£ã€‚ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="https://oscimg.oschina.net/oscnet/up-ea663f731dfb8db97706ffd2d34a2297576.png" width=230 height=300>  <p>ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æœç´¢ <code>quick brown</code> ï¼Œæˆ‘ä»¬åªéœ€è¦æŸ¥æ‰¾åŒ…å«æ¯ä¸ªè¯æ¡çš„æ–‡æ¡£ï¼š  </p><img src="https://oscimg.oschina.net/oscnet/up-6b1b6fb36d1467bfab8d222ace66f4f3dc7.png" width=230 height=160>ä¸¤ä¸ªæ–‡æ¡£éƒ½åŒ¹é…ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªæ–‡æ¡£æ¯”ç¬¬äºŒä¸ªåŒ¹é…åº¦æ›´é«˜ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä»…è®¡ç®—åŒ¹é…è¯æ¡æ•°é‡çš„ç®€å• ç›¸ä¼¼æ€§ç®—æ³• ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥è¯´ï¼Œå¯¹äºæˆ‘ä»¬æŸ¥è¯¢çš„ç›¸å…³æ€§æ¥è®²ï¼Œç¬¬ä¸€ä¸ªæ–‡æ¡£æ¯”ç¬¬äºŒä¸ªæ–‡æ¡£æ›´ä½³ã€‚  <p>ä½†æ˜¯ï¼Œæˆ‘ä»¬ç›®å‰çš„å€’æ’ç´¢å¼•æœ‰ä¸€äº›é—®é¢˜ï¼š</p><p><code>Quick</code> å’Œ <code>quick</code> ä»¥ç‹¬ç«‹çš„è¯æ¡å‡ºç°ï¼Œç„¶è€Œç”¨æˆ·å¯èƒ½è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„è¯ã€‚<br><code>fox</code> å’Œ <code>foxes</code> éå¸¸ç›¸ä¼¼, å°±åƒ <code>dog</code> å’Œ <code>dogs</code> ï¼›ä»–ä»¬æœ‰ç›¸åŒçš„è¯æ ¹ã€‚<br><code>jumped</code> å’Œ <code>leap</code>, å°½ç®¡æ²¡æœ‰ç›¸åŒçš„è¯æ ¹ï¼Œä½†ä»–ä»¬çš„æ„æ€å¾ˆç›¸è¿‘ã€‚ä»–ä»¬æ˜¯åŒä¹‰è¯ã€‚<br>ä½¿ç”¨å‰é¢çš„ç´¢å¼•æœç´¢ <code>+Quick</code> <code>+fox</code> ä¸ä¼šå¾—åˆ°ä»»ä½•åŒ¹é…æ–‡æ¡£ã€‚ï¼ˆè®°ä½ï¼Œ+ å‰ç¼€è¡¨æ˜è¿™ä¸ªè¯å¿…é¡»å­˜åœ¨ã€‚ï¼‰åªæœ‰åŒæ—¶å‡ºç° <code>Quick</code> å’Œ <code>fox</code> çš„æ–‡æ¡£æ‰æ»¡è¶³è¿™ä¸ªæŸ¥è¯¢æ¡ä»¶ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªæ–‡æ¡£åŒ…å« <code>quick fox</code> ï¼Œç¬¬äºŒä¸ªæ–‡æ¡£åŒ…å« <code>Quick foxes</code> ã€‚</p><p>æˆ‘ä»¬çš„ç”¨æˆ·å¯ä»¥åˆç†çš„æœŸæœ›ä¸¤ä¸ªæ–‡æ¡£ä¸æŸ¥è¯¢åŒ¹é…ã€‚æˆ‘ä»¬å¯ä»¥åšçš„æ›´å¥½ã€‚</p><p>å¦‚æœæˆ‘ä»¬å°†è¯æ¡è§„èŒƒä¸ºæ ‡å‡†æ¨¡å¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸ç”¨æˆ·æœç´¢çš„è¯æ¡ä¸å®Œå…¨ä¸€è‡´ï¼Œä½†å…·æœ‰è¶³å¤Ÿç›¸å…³æ€§çš„æ–‡æ¡£ã€‚ä¾‹å¦‚ï¼š</p><p><code>Quick</code> å¯ä»¥å°å†™åŒ–ä¸º <code>quick</code> ã€‚<br><code>foxes</code> å¯ä»¥ è¯å¹²æå– â€“å˜ä¸ºè¯æ ¹çš„æ ¼å¼â€“ ä¸º <code>fox</code> ã€‚ç±»ä¼¼çš„ï¼Œ <code>dogs</code> å¯ä»¥ä¸ºæå–ä¸º <code>dog</code> ã€‚<br><code>jumped</code> å’Œ <code>leap</code> æ˜¯åŒä¹‰è¯ï¼Œå¯ä»¥ç´¢å¼•ä¸ºç›¸åŒçš„å•è¯ <code>jump</code> ã€‚<br>ç°åœ¨ç´¢å¼•çœ‹ä¸Šå»åƒè¿™æ ·ï¼š<br><img src="https://oscimg.oschina.net/oscnet/up-5ee716c408738e8394f2d9809f8be8354ba.png" width=230 height=270><br>è¿™è¿˜è¿œè¿œä¸å¤Ÿã€‚æˆ‘ä»¬æœç´¢ <code>+Quick</code> <code>+fox</code> ä»ç„¶ ä¼šå¤±è´¥ï¼Œå› ä¸ºåœ¨æˆ‘ä»¬çš„ç´¢å¼•ä¸­ï¼Œå·²ç»æ²¡æœ‰ <code>Quick</code> äº†ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å¯¹æœç´¢çš„å­—ç¬¦ä¸²ä½¿ç”¨ä¸ content åŸŸç›¸åŒçš„æ ‡å‡†åŒ–è§„åˆ™ï¼Œä¼šå˜æˆæŸ¥è¯¢ <code>+quick</code> <code>+fox</code> ï¼Œè¿™æ ·ä¸¤ä¸ªæ–‡æ¡£éƒ½ä¼šåŒ¹é…ï¼</p><p>è¿™éå¸¸é‡è¦ã€‚ä½ åªèƒ½æœç´¢åœ¨ç´¢å¼•ä¸­å‡ºç°çš„è¯æ¡ï¼Œæ‰€ä»¥ç´¢å¼•æ–‡æœ¬å’ŒæŸ¥è¯¢å­—ç¬¦ä¸²å¿…é¡»æ ‡å‡†åŒ–ä¸ºç›¸åŒçš„æ ¼å¼ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Elasticsearch ä½¿ç”¨ä¸€ç§ç§°ä¸º å€’æ’ç´¢å¼• çš„ç»“æ„ï¼Œå®ƒé€‚ç”¨äºå¿«é€Ÿçš„å…¨æ–‡æœç´¢ã€‚ä¸€ä¸ªå€’æ’ç´¢å¼•ç”±æ–‡æ¡£ä¸­æ‰€æœ‰ä¸é‡å¤è¯çš„åˆ—è¡¨æ„æˆï¼Œå¯¹äºå…¶ä¸­æ¯ä¸ªè¯ï¼Œæœ‰ä¸€ä¸ªåŒ…å«å®ƒçš„æ–‡æ¡£åˆ—è¡¨ã€‚  &lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªæ–‡æ¡£ï¼Œæ¯ä¸ªæ–‡æ¡£çš„ content åŸŸåŒ…å«å¦‚ä¸‹å†…å®¹ï¼š  &lt;/p&gt;
&lt;</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="åŸºæœ¬æœç´¢" scheme="http://example.com/categories/Elasticsearch/%E5%9F%BA%E6%9C%AC%E6%90%9C%E7%B4%A2/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
  <entry>
    <title>elasticsearchåˆ†é¡µæŸ¥è¯¢</title>
    <link href="http://example.com/wiki/elasticsearch%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2/"/>
    <id>http://example.com/wiki/elasticsearch%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2/</id>
    <published>2021-07-05T14:08:23.000Z</published>
    <updated>2021-07-06T11:30:15.091Z</updated>
    
    <content type="html"><![CDATA[<p>å’Œ SQL ä½¿ç”¨ LIMIT å…³é”®å­—è¿”å›å•ä¸ª page ç»“æœçš„æ–¹æ³•ç›¸åŒï¼ŒElasticsearch æ¥å— from å’Œ size å‚æ•°ï¼š</p><p><code>size</code><br>æ˜¾ç¤ºåº”è¯¥è¿”å›çš„ç»“æœæ•°é‡ï¼Œé»˜è®¤æ˜¯ 10<br><code>from</code><br>æ˜¾ç¤ºåº”è¯¥è·³è¿‡çš„åˆå§‹ç»“æœæ•°é‡ï¼Œé»˜è®¤æ˜¯ 0<br>å¦‚æœæ¯é¡µå±•ç¤º 5 æ¡ç»“æœï¼Œå¯ä»¥ç”¨ä¸‹é¢æ–¹å¼è¯·æ±‚å¾—åˆ° 1 åˆ° 3 é¡µçš„ç»“æœï¼š</p><p><code>GET /_search?size=5</code><br><code>GET /_search?size=5&amp;from=5</code><br><code>GET /_search?size=5&amp;from=10</code>  </p><p>âš ï¸ âš ï¸ âš ï¸<br>è€ƒè™‘åˆ°åˆ†é¡µè¿‡æ·±ä»¥åŠä¸€æ¬¡è¯·æ±‚å¤ªå¤šç»“æœçš„æƒ…å†µï¼Œç»“æœé›†åœ¨è¿”å›ä¹‹å‰å…ˆè¿›è¡Œæ’åºã€‚ ä½†è¯·è®°ä½ä¸€ä¸ªè¯·æ±‚ç»å¸¸è·¨è¶Šå¤šä¸ªåˆ†ç‰‡ï¼Œæ¯ä¸ªåˆ†ç‰‡éƒ½äº§ç”Ÿè‡ªå·±çš„æ’åºç»“æœï¼Œè¿™äº›ç»“æœéœ€è¦è¿›è¡Œé›†ä¸­æ’åºä»¥ä¿è¯æ•´ä½“é¡ºåºæ˜¯æ­£ç¡®çš„ã€‚  </p><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ·±åº¦åˆ†é¡µ</p><blockquote><p>ç†è§£ä¸ºä»€ä¹ˆæ·±åº¦åˆ†é¡µæ˜¯æœ‰é—®é¢˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾åœ¨ä¸€ä¸ªæœ‰ 5 ä¸ªä¸»åˆ†ç‰‡çš„ç´¢å¼•ä¸­æœç´¢ã€‚ å½“æˆ‘ä»¬è¯·æ±‚ç»“æœçš„ç¬¬ä¸€é¡µï¼ˆç»“æœä» 1 åˆ° 10 ï¼‰ï¼Œæ¯ä¸€ä¸ªåˆ†ç‰‡äº§ç”Ÿå‰ 10 çš„ç»“æœï¼Œå¹¶ä¸”è¿”å›ç»™ åè°ƒèŠ‚ç‚¹ ï¼Œåè°ƒèŠ‚ç‚¹å¯¹ 50 ä¸ªç»“æœæ’åºå¾—åˆ°å…¨éƒ¨ç»“æœçš„å‰ 10 ä¸ªã€‚</p></blockquote><p>ç°åœ¨å‡è®¾æˆ‘ä»¬è¯·æ±‚ç¬¬ 1000 é¡µâ€”â€‹ç»“æœä» 10001 åˆ° 10010 ã€‚æ‰€æœ‰éƒ½ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œé™¤äº†æ¯ä¸ªåˆ†ç‰‡ä¸å¾—ä¸äº§ç”Ÿå‰10010ä¸ªç»“æœä»¥å¤–ã€‚ ç„¶ååè°ƒèŠ‚ç‚¹å¯¹å…¨éƒ¨ 50050 ä¸ªç»“æœæ’åºæœ€åä¸¢å¼ƒæ‰è¿™äº›ç»“æœä¸­çš„ 50040 ä¸ªç»“æœã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¯¹ç»“æœæ’åºçš„æˆæœ¬éšåˆ†é¡µçš„æ·±åº¦æˆæŒ‡æ•°ä¸Šå‡ã€‚è¿™å°±æ˜¯ web æœç´¢å¼•æ“å¯¹ä»»ä½•æŸ¥è¯¢éƒ½ä¸è¦è¿”å›è¶…è¿‡ 1000 ä¸ªç»“æœçš„åŸå› </p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/pagination.html">elasticsearchæƒå¨æŒ‡å—</a>  </li><li><a href="https://blog.csdn.net/laoyang360/article/details/116472697?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162549431316780269873046%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=162549431316780269873046&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_v2~rank_v29-2-116472697.pc_v2_rank_blog_default&utm_term=%E5%88%86%E9%A1%B5&spm=1018.2226.3001.4450">å¹²è´§ | å…¨æ–¹ä½æ·±åº¦è§£è¯» Elasticsearch åˆ†é¡µæŸ¥è¯¢</a>  </li><li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.x/paginate-search-results.html">Paginate search results</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å’Œ SQL ä½¿ç”¨ LIMIT å…³é”®å­—è¿”å›å•ä¸ª page ç»“æœçš„æ–¹æ³•ç›¸åŒï¼ŒElasticsearch æ¥å— from å’Œ size å‚æ•°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;size&lt;/code&gt;&lt;br&gt;æ˜¾ç¤ºåº”è¯¥è¿”å›çš„ç»“æœæ•°é‡ï¼Œé»˜è®¤æ˜¯ 10&lt;br&gt;&lt;code&gt;from&lt;/code&gt;&lt;</summary>
      
    
    
    
    <category term="Elasticsearch" scheme="http://example.com/categories/Elasticsearch/"/>
    
    <category term="åŸºæœ¬æœç´¢" scheme="http://example.com/categories/Elasticsearch/%E5%9F%BA%E6%9C%AC%E6%90%9C%E7%B4%A2/"/>
    
    
    <category term="elasticsearch" scheme="http://example.com/tags/elasticsearch/"/>
    
  </entry>
  
</feed>
